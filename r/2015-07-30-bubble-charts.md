---
description: How to make a bubble chart in R. A bubble chart is a scatter plot whose
  markers have variable color and size.
display_as: basic
language: r
layout: base
name: Bubble Charts
order: 5
output:
  html_document:
    keep_md: true
permalink: r/bubble-charts/
thumbnail: thumbnail/bubble.jpg
---


### Simple Bubble Chart


``` r
library(plotly)

data <- read.csv("https://raw.githubusercontent.com/plotly/datasets/master/school_earnings.csv")

fig <- plot_ly(data, x = ~Women, y = ~Men, text = ~School, type = 'scatter', mode = 'markers',
        marker = list(size = ~Gap, opacity = 0.5))
fig <- fig %>% layout(title = 'Gender Gap in Earnings per University',
         xaxis = list(showgrid = FALSE),
         yaxis = list(showgrid = FALSE))

fig
```

<div class="plotly html-widget html-fill-item" id="htmlwidget-c1c0ebaafb9ea634cdac" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-c1c0ebaafb9ea634cdac">{"x":{"visdat":{"1586315fabc3":["function () ","plotlyVisDat"]},"cur_data":"1586315fabc3","attrs":{"1586315fabc3":{"x":{},"y":{},"text":{},"mode":"markers","marker":{"size":{},"opacity":0.5},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Gender Gap in Earnings per University","xaxis":{"domain":[0,1],"automargin":true,"showgrid":false,"title":"Women"},"yaxis":{"domain":[0,1],"automargin":true,"showgrid":false,"title":"Men"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[94,96,112,92,90,78,94,76,79,86,93,84,67,73,80,62,72,71,68,64,72],"y":[152,151,165,141,137,118,131,112,114,119,124,114,94,100,107,84,92,88,82,78,81],"text":["MIT","Stanford","Harvard","U.Penn","Princeton","Chicago","Georgetown","Tufts","Yale","Columbia","Duke","Dartmouth","NYU","Notre Dame","Cornell","Michigan","Brown","Berkeley","Emory","UCLA","SoCal"],"mode":"markers","marker":{"color":"rgba(31,119,180,1)","size":[58,55,53,49,47,40,37,36,35,33,31,30,27,27,27,22,20,17,14,14,9],"opacity":0.5,"line":{"color":"rgba(31,119,180,1)"}},"type":"scatter","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

### Setting Markers Color


``` r
library(plotly)

data <- read.csv("https://raw.githubusercontent.com/plotly/datasets/master/school_earnings.csv")

fig <- plot_ly(data, x = ~Women, y = ~Men, text = ~School, type = 'scatter', mode = 'markers',
        marker = list(size = ~Gap, opacity = 0.5, color = 'rgb(255, 65, 54)'))
fig <- fig %>% layout(title = 'Gender Gap in Earnings per University',
         xaxis = list(showgrid = FALSE),
         yaxis = list(showgrid = FALSE))

fig
```

<div class="plotly html-widget html-fill-item" id="htmlwidget-c0b118e967769a70edaa" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-c0b118e967769a70edaa">{"x":{"visdat":{"158642a66b7":["function () ","plotlyVisDat"]},"cur_data":"158642a66b7","attrs":{"158642a66b7":{"x":{},"y":{},"text":{},"mode":"markers","marker":{"size":{},"opacity":0.5,"color":"rgb(255, 65, 54)"},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Gender Gap in Earnings per University","xaxis":{"domain":[0,1],"automargin":true,"showgrid":false,"title":"Women"},"yaxis":{"domain":[0,1],"automargin":true,"showgrid":false,"title":"Men"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[94,96,112,92,90,78,94,76,79,86,93,84,67,73,80,62,72,71,68,64,72],"y":[152,151,165,141,137,118,131,112,114,119,124,114,94,100,107,84,92,88,82,78,81],"text":["MIT","Stanford","Harvard","U.Penn","Princeton","Chicago","Georgetown","Tufts","Yale","Columbia","Duke","Dartmouth","NYU","Notre Dame","Cornell","Michigan","Brown","Berkeley","Emory","UCLA","SoCal"],"mode":"markers","marker":{"color":"rgb(255, 65, 54)","size":[58,55,53,49,47,40,37,36,35,33,31,30,27,27,27,22,20,17,14,14,9],"opacity":0.5,"line":{"color":"rgba(31,119,180,1)"}},"type":"scatter","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

### Setting Multiple Colors


``` r
library(plotly)

data <- read.csv("https://raw.githubusercontent.com/plotly/datasets/master/school_earnings.csv")

colors <- c('rgba(204,204,204,1)', 'rgba(222,45,38,0.8)', 'rgba(204,204,204,1)', 'rgba(204,204,204,1)', 'rgba(204,204,204,1)',
            'rgba(204,204,204,1)', 'rgba(204,204,204,1)', 'rgba(204,204,204,1)', 'rgba(204,204,204,1)', 'rgba(204,204,204,1)',
            'rgba(204,204,204,1)', 'rgba(204,204,204,1)', 'rgba(204,204,204,1)', 'rgba(204,204,204,1)', 'rgba(204,204,204,1)',
            'rgba(204,204,204,1)', 'rgba(204,204,204,1)', 'rgba(204,204,204,1)', 'rgba(204,204,204,1)', 'rgba(204,204,204,1)',
            'rgba(204,204,204,1)')
# Note: The colors will be assigned to each observations based on the order of the observations in the dataframe.


fig <- plot_ly(data, x = ~Women, y = ~Men, text = ~School, type = 'scatter', mode = 'markers',
        marker = list(size = ~Gap, opacity = 0.5, color = colors))
fig <- fig %>% layout(title = 'Gender Gap in Earnings per University',
         xaxis = list(showgrid = FALSE),
         yaxis = list(showgrid = FALSE))

fig
```

<div class="plotly html-widget html-fill-item" id="htmlwidget-e1306c9293281ece8161" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-e1306c9293281ece8161">{"x":{"visdat":{"1586421e26e7":["function () ","plotlyVisDat"]},"cur_data":"1586421e26e7","attrs":{"1586421e26e7":{"x":{},"y":{},"text":{},"mode":"markers","marker":{"size":{},"opacity":0.5,"color":["rgba(204,204,204,1)","rgba(222,45,38,0.8)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)"]},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Gender Gap in Earnings per University","xaxis":{"domain":[0,1],"automargin":true,"showgrid":false,"title":"Women"},"yaxis":{"domain":[0,1],"automargin":true,"showgrid":false,"title":"Men"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[94,96,112,92,90,78,94,76,79,86,93,84,67,73,80,62,72,71,68,64,72],"y":[152,151,165,141,137,118,131,112,114,119,124,114,94,100,107,84,92,88,82,78,81],"text":["MIT","Stanford","Harvard","U.Penn","Princeton","Chicago","Georgetown","Tufts","Yale","Columbia","Duke","Dartmouth","NYU","Notre Dame","Cornell","Michigan","Brown","Berkeley","Emory","UCLA","SoCal"],"mode":"markers","marker":{"color":["rgba(204,204,204,1)","rgba(222,45,38,0.8)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)","rgba(204,204,204,1)"],"size":[58,55,53,49,47,40,37,36,35,33,31,30,27,27,27,22,20,17,14,14,9],"opacity":0.5,"line":{"color":"rgba(31,119,180,1)"}},"type":"scatter","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

### Mapping a Color Variable (Continuous)


``` r
library(plotly)

data <- read.csv("https://raw.githubusercontent.com/plotly/datasets/master/school_earnings.csv")

fig <- plot_ly(data, x = ~Women, y = ~Men, text = ~School, type = 'scatter', mode = 'markers', color = ~Gap, colors = 'Reds',
        marker = list(size = ~Gap, opacity = 0.5))
fig <- fig %>% layout(title = 'Gender Gap in Earnings per University',
         xaxis = list(showgrid = FALSE),
         yaxis = list(showgrid = FALSE))

fig
```

<div class="plotly html-widget html-fill-item" id="htmlwidget-205535a72c68eb1e99b8" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-205535a72c68eb1e99b8">{"x":{"visdat":{"15862ea8cd17":["function () ","plotlyVisDat"]},"cur_data":"15862ea8cd17","attrs":{"15862ea8cd17":{"x":{},"y":{},"text":{},"mode":"markers","marker":{"size":{},"opacity":0.5},"color":{},"colors":"Reds","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Gender Gap in Earnings per University","xaxis":{"domain":[0,1],"automargin":true,"showgrid":false,"title":"Women"},"yaxis":{"domain":[0,1],"automargin":true,"showgrid":false,"title":"Men"},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[94,96,112,92,90,78,94,76,79,86,93,84,67,73,80,62,72,71,68,64,72],"y":[152,151,165,141,137,118,131,112,114,119,124,114,94,100,107,84,92,88,82,78,81],"text":["MIT","Stanford","Harvard","U.Penn","Princeton","Chicago","Georgetown","Tufts","Yale","Columbia","Duke","Dartmouth","NYU","Notre Dame","Cornell","Michigan","Brown","Berkeley","Emory","UCLA","SoCal"],"mode":"markers","marker":{"colorbar":{"title":"Gap","ticklen":2},"cmin":9,"cmax":58,"colorscale":[["0","rgba(255,245,240,1)"],["0.0416666666666667","rgba(255,238,230,1)"],["0.0833333333333333","rgba(255,231,220,1)"],["0.125","rgba(254,224,210,1)"],["0.166666666666667","rgba(254,212,193,1)"],["0.208333333333333","rgba(253,199,177,1)"],["0.25","rgba(252,187,161,1)"],["0.291666666666667","rgba(253,174,145,1)"],["0.333333333333333","rgba(253,160,129,1)"],["0.375","rgba(252,146,114,1)"],["0.416666666666667","rgba(252,133,101,1)"],["0.458333333333333","rgba(252,120,87,1)"],["0.5","rgba(251,106,74,1)"],["0.541666666666667","rgba(247,92,64,1)"],["0.583333333333333","rgba(243,77,54,1)"],["0.625","rgba(239,59,44,1)"],["0.666666666666667","rgba(227,49,39,1)"],["0.708333333333333","rgba(215,37,34,1)"],["0.75","rgba(203,24,29,1)"],["0.791666666666667","rgba(190,21,26,1)"],["0.833333333333333","rgba(178,18,24,1)"],["0.875","rgba(165,15,21,1)"],["0.916666666666667","rgba(144,9,19,1)"],["0.958333333333333","rgba(123,3,16,1)"],["1","rgba(103,0,13,1)"]],"showscale":false,"color":[58,55,53,49,47,40,37,36,35,33,31,30,27,27,27,22,20,17,14,14,9],"size":[58,55,53,49,47,40,37,36,35,33,31,30,27,27,27,22,20,17,14,14,9],"opacity":0.5,"line":{"colorbar":{"title":"","ticklen":2},"cmin":9,"cmax":58,"colorscale":[["0","rgba(255,245,240,1)"],["0.0416666666666667","rgba(255,238,230,1)"],["0.0833333333333333","rgba(255,231,220,1)"],["0.125","rgba(254,224,210,1)"],["0.166666666666667","rgba(254,212,193,1)"],["0.208333333333333","rgba(253,199,177,1)"],["0.25","rgba(252,187,161,1)"],["0.291666666666667","rgba(253,174,145,1)"],["0.333333333333333","rgba(253,160,129,1)"],["0.375","rgba(252,146,114,1)"],["0.416666666666667","rgba(252,133,101,1)"],["0.458333333333333","rgba(252,120,87,1)"],["0.5","rgba(251,106,74,1)"],["0.541666666666667","rgba(247,92,64,1)"],["0.583333333333333","rgba(243,77,54,1)"],["0.625","rgba(239,59,44,1)"],["0.666666666666667","rgba(227,49,39,1)"],["0.708333333333333","rgba(215,37,34,1)"],["0.75","rgba(203,24,29,1)"],["0.791666666666667","rgba(190,21,26,1)"],["0.833333333333333","rgba(178,18,24,1)"],["0.875","rgba(165,15,21,1)"],["0.916666666666667","rgba(144,9,19,1)"],["0.958333333333333","rgba(123,3,16,1)"],["1","rgba(103,0,13,1)"]],"showscale":false,"color":[58,55,53,49,47,40,37,36,35,33,31,30,27,27,27,22,20,17,14,14,9]}},"type":"scatter","xaxis":"x","yaxis":"y","frame":null},{"x":[62,112],"y":[78,165],"type":"scatter","mode":"markers","opacity":0,"hoverinfo":"none","showlegend":false,"marker":{"colorbar":{"title":"Gap","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"cmin":9,"cmax":58,"colorscale":[["0","rgba(255,245,240,1)"],["0.0416666666666667","rgba(255,238,230,1)"],["0.0833333333333333","rgba(255,231,220,1)"],["0.125","rgba(254,224,210,1)"],["0.166666666666667","rgba(254,212,193,1)"],["0.208333333333333","rgba(253,199,177,1)"],["0.25","rgba(252,187,161,1)"],["0.291666666666667","rgba(253,174,145,1)"],["0.333333333333333","rgba(253,160,129,1)"],["0.375","rgba(252,146,114,1)"],["0.416666666666667","rgba(252,133,101,1)"],["0.458333333333333","rgba(252,120,87,1)"],["0.5","rgba(251,106,74,1)"],["0.541666666666667","rgba(247,92,64,1)"],["0.583333333333333","rgba(243,77,54,1)"],["0.625","rgba(239,59,44,1)"],["0.666666666666667","rgba(227,49,39,1)"],["0.708333333333333","rgba(215,37,34,1)"],["0.75","rgba(203,24,29,1)"],["0.791666666666667","rgba(190,21,26,1)"],["0.833333333333333","rgba(178,18,24,1)"],["0.875","rgba(165,15,21,1)"],["0.916666666666667","rgba(144,9,19,1)"],["0.958333333333333","rgba(123,3,16,1)"],["1","rgba(103,0,13,1)"]],"showscale":true,"color":[9,58],"line":{"color":"rgba(255,127,14,1)"}},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

### Mapping a Color Variable (Categorical)


``` r
library(plotly)

data <- read.csv("https://raw.githubusercontent.com/plotly/datasets/master/school_earnings.csv")

data$State <- as.factor(c('Massachusetts', 'California', 'Massachusetts', 'Pennsylvania', 'New Jersey', 'Illinois', 'Washington DC',
                          'Massachusetts', 'Connecticut', 'New York', 'North Carolina', 'New Hampshire', 'New York', 'Indiana',
                          'New York', 'Michigan', 'Rhode Island', 'California', 'Georgia', 'California', 'California'))

fig <- plot_ly(data, x = ~Women, y = ~Men, text = ~School, type = 'scatter', mode = 'markers', size = ~Gap, color = ~State, colors = 'Paired',
        marker = list(opacity = 0.5, sizemode = 'diameter'))
fig <- fig %>% layout(title = 'Gender Gap in Earnings per University',
         xaxis = list(showgrid = FALSE),
         yaxis = list(showgrid = FALSE),
         showlegend = FALSE)

fig
```

<div class="plotly html-widget html-fill-item" id="htmlwidget-badfb47e49308bdf895f" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-badfb47e49308bdf895f">{"x":{"visdat":{"15867e7fe3a3":["function () ","plotlyVisDat"]},"cur_data":"15867e7fe3a3","attrs":{"15867e7fe3a3":{"x":{},"y":{},"text":{},"mode":"markers","marker":{"opacity":0.5,"sizemode":"diameter"},"color":{},"size":{},"colors":"Paired","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Gender Gap in Earnings per University","xaxis":{"domain":[0,1],"automargin":true,"showgrid":false,"title":"Women"},"yaxis":{"domain":[0,1],"automargin":true,"showgrid":false,"title":"Men"},"showlegend":false,"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[96,71,64,72],"y":[151,88,78,81],"text":["Stanford","Berkeley","UCLA","SoCal"],"mode":"markers","marker":{"color":"rgba(166,206,227,1)","size":[94.489795918367349,24.693877551020407,19.183673469387756,10],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(166,206,227,1)"}},"type":"scatter","name":"California","textfont":{"color":"rgba(166,206,227,1)","size":[94.489795918367349,24.693877551020407,19.183673469387756,10]},"error_y":{"color":"rgba(166,206,227,1)","width":[]},"error_x":{"color":"rgba(166,206,227,1)","width":[]},"line":{"color":"rgba(166,206,227,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[79],"y":[114],"text":"Yale","mode":"markers","marker":{"color":"rgba(62,133,187,1)","size":[57.755102040816332],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(62,133,187,1)"}},"type":"scatter","name":"Connecticut","textfont":{"color":"rgba(62,133,187,1)","size":57.755102040816332},"error_y":{"color":"rgba(62,133,187,1)","width":57.755102040816332},"error_x":{"color":"rgba(62,133,187,1)","width":57.755102040816332},"line":{"color":"rgba(62,133,187,1)","width":57.755102040816332},"xaxis":"x","yaxis":"y","frame":null},{"x":[68],"y":[82],"text":"Emory","mode":"markers","marker":{"color":"rgba(147,190,154,1)","size":[19.183673469387756],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(147,190,154,1)"}},"type":"scatter","name":"Georgia","textfont":{"color":"rgba(147,190,154,1)","size":19.183673469387756},"error_y":{"color":"rgba(147,190,154,1)","width":19.183673469387756},"error_x":{"color":"rgba(147,190,154,1)","width":19.183673469387756},"line":{"color":"rgba(147,190,154,1)","width":19.183673469387756},"xaxis":"x","yaxis":"y","frame":null},{"x":[78],"y":[118],"text":"Chicago","mode":"markers","marker":{"color":"rgba(115,189,88,1)","size":[66.938775510204081],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(115,189,88,1)"}},"type":"scatter","name":"Illinois","textfont":{"color":"rgba(115,189,88,1)","size":66.938775510204081},"error_y":{"color":"rgba(115,189,88,1)","width":66.938775510204081},"error_x":{"color":"rgba(115,189,88,1)","width":66.938775510204081},"line":{"color":"rgba(115,189,88,1)","width":66.938775510204081},"xaxis":"x","yaxis":"y","frame":null},{"x":[73],"y":[100],"text":"Notre Dame","mode":"markers","marker":{"color":"rgba(144,163,89,1)","size":[43.061224489795919],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(144,163,89,1)"}},"type":"scatter","name":"Indiana","textfont":{"color":"rgba(144,163,89,1)","size":43.061224489795919},"error_y":{"color":"rgba(144,163,89,1)","width":43.061224489795919},"error_x":{"color":"rgba(144,163,89,1)","width":43.061224489795919},"line":{"color":"rgba(144,163,89,1)","width":43.061224489795919},"xaxis":"x","yaxis":"y","frame":null},{"x":[94,112,76],"y":[152,165,112],"text":["MIT","Harvard","Tufts"],"mode":"markers","marker":{"color":"rgba(248,131,123,1)","size":[100,90.816326530612244,59.591836734693871],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(248,131,123,1)"}},"type":"scatter","name":"Massachusetts","textfont":{"color":"rgba(248,131,123,1)","size":[100,90.816326530612244,59.591836734693871]},"error_y":{"color":"rgba(248,131,123,1)","width":[]},"error_x":{"color":"rgba(248,131,123,1)","width":[]},"line":{"color":"rgba(248,131,123,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[62],"y":[84],"text":"Michigan","mode":"markers","marker":{"color":"rgba(230,50,34,1)","size":[33.877551020408163],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(230,50,34,1)"}},"type":"scatter","name":"Michigan","textfont":{"color":"rgba(230,50,34,1)","size":33.877551020408163},"error_y":{"color":"rgba(230,50,34,1)","width":33.877551020408163},"error_x":{"color":"rgba(230,50,34,1)","width":33.877551020408163},"line":{"color":"rgba(230,50,34,1)","width":33.877551020408163},"xaxis":"x","yaxis":"y","frame":null},{"x":[84],"y":[114],"text":"Dartmouth","mode":"markers","marker":{"color":"rgba(252,181,104,1)","size":[48.571428571428569],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(252,181,104,1)"}},"type":"scatter","name":"New Hampshire","textfont":{"color":"rgba(252,181,104,1)","size":48.571428571428569},"error_y":{"color":"rgba(252,181,104,1)","width":48.571428571428569},"error_x":{"color":"rgba(252,181,104,1)","width":48.571428571428569},"line":{"color":"rgba(252,181,104,1)","width":48.571428571428569},"xaxis":"x","yaxis":"y","frame":null},{"x":[90],"y":[137],"text":"Princeton","mode":"markers","marker":{"color":"rgba(255,142,39,1)","size":[79.795918367346943],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(255,142,39,1)"}},"type":"scatter","name":"New Jersey","textfont":{"color":"rgba(255,142,39,1)","size":79.795918367346943},"error_y":{"color":"rgba(255,142,39,1)","width":79.795918367346943},"error_x":{"color":"rgba(255,142,39,1)","width":79.795918367346943},"line":{"color":"rgba(255,142,39,1)","width":79.795918367346943},"xaxis":"x","yaxis":"y","frame":null},{"x":[86,67,80],"y":[119,94,107],"text":["Columbia","NYU","Cornell"],"mode":"markers","marker":{"color":"rgba(233,159,143,1)","size":[54.08163265306122,43.061224489795919,43.061224489795919],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(233,159,143,1)"}},"type":"scatter","name":"New York","textfont":{"color":"rgba(233,159,143,1)","size":[54.08163265306122,43.061224489795919,43.061224489795919]},"error_y":{"color":"rgba(233,159,143,1)","width":[]},"error_x":{"color":"rgba(233,159,143,1)","width":[]},"line":{"color":"rgba(233,159,143,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[93],"y":[124],"text":"Duke","mode":"markers","marker":{"color":"rgba(158,123,186,1)","size":[50.408163265306122],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(158,123,186,1)"}},"type":"scatter","name":"North Carolina","textfont":{"color":"rgba(158,123,186,1)","size":50.408163265306122},"error_y":{"color":"rgba(158,123,186,1)","width":50.408163265306122},"error_x":{"color":"rgba(158,123,186,1)","width":50.408163265306122},"line":{"color":"rgba(158,123,186,1)","width":50.408163265306122},"xaxis":"x","yaxis":"y","frame":null},{"x":[92],"y":[141],"text":"U.Penn","mode":"markers","marker":{"color":"rgba(158,118,158,1)","size":[83.469387755102048],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(158,118,158,1)"}},"type":"scatter","name":"Pennsylvania","textfont":{"color":"rgba(158,118,158,1)","size":83.469387755102048},"error_y":{"color":"rgba(158,118,158,1)","width":83.469387755102048},"error_x":{"color":"rgba(158,118,158,1)","width":83.469387755102048},"line":{"color":"rgba(158,118,158,1)","width":83.469387755102048},"xaxis":"x","yaxis":"y","frame":null},{"x":[72],"y":[92],"text":"Brown","mode":"markers","marker":{"color":"rgba(245,229,134,1)","size":[30.204081632653061],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(245,229,134,1)"}},"type":"scatter","name":"Rhode Island","textfont":{"color":"rgba(245,229,134,1)","size":30.204081632653061},"error_y":{"color":"rgba(245,229,134,1)","width":30.204081632653061},"error_x":{"color":"rgba(245,229,134,1)","width":30.204081632653061},"line":{"color":"rgba(245,229,134,1)","width":30.204081632653061},"xaxis":"x","yaxis":"y","frame":null},{"x":[94],"y":[131],"text":"Georgetown","mode":"markers","marker":{"color":"rgba(177,89,40,1)","size":[61.428571428571423],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(177,89,40,1)"}},"type":"scatter","name":"Washington DC","textfont":{"color":"rgba(177,89,40,1)","size":61.428571428571423},"error_y":{"color":"rgba(177,89,40,1)","width":61.428571428571423},"error_x":{"color":"rgba(177,89,40,1)","width":61.428571428571423},"line":{"color":"rgba(177,89,40,1)","width":61.428571428571423},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

### Scaling the Size of Bubble Charts


``` r
library(plotly)

data <- read.csv("https://raw.githubusercontent.com/plotly/datasets/master/school_earnings.csv")

data$State <- as.factor(c('Massachusetts', 'California', 'Massachusetts', 'Pennsylvania', 'New Jersey', 'Illinois', 'Washington DC',
                          'Massachusetts', 'Connecticut', 'New York', 'North Carolina', 'New Hampshire', 'New York', 'Indiana',
                          'New York', 'Michigan', 'Rhode Island', 'California', 'Georgia', 'California', 'California'))

fig <- plot_ly(data, x = ~Women, y = ~Men, text = ~School, type = 'scatter', mode = 'markers', size = ~Gap, color = ~State, colors = 'Paired',
        #Choosing the range of the bubbles' sizes:
        sizes = c(10, 50),
        marker = list(opacity = 0.5, sizemode = 'diameter'))
fig <- fig %>% layout(title = 'Gender Gap in Earnings per University',
         xaxis = list(showgrid = FALSE),
         yaxis = list(showgrid = FALSE),
         showlegend = FALSE)

fig
```

<div class="plotly html-widget html-fill-item" id="htmlwidget-9104b48042bcfe6ef1e7" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-9104b48042bcfe6ef1e7">{"x":{"visdat":{"1586363e2995":["function () ","plotlyVisDat"]},"cur_data":"1586363e2995","attrs":{"1586363e2995":{"x":{},"y":{},"text":{},"mode":"markers","marker":{"opacity":0.5,"sizemode":"diameter"},"color":{},"size":{},"colors":"Paired","alpha_stroke":1,"sizes":[10,50],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Gender Gap in Earnings per University","xaxis":{"domain":[0,1],"automargin":true,"showgrid":false,"title":"Women"},"yaxis":{"domain":[0,1],"automargin":true,"showgrid":false,"title":"Men"},"showlegend":false,"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[96,71,64,72],"y":[151,88,78,81],"text":["Stanford","Berkeley","UCLA","SoCal"],"mode":"markers","marker":{"color":"rgba(166,206,227,1)","size":[47.551020408163268,16.530612244897959,14.081632653061224,10],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(166,206,227,1)"}},"type":"scatter","name":"California","textfont":{"color":"rgba(166,206,227,1)","size":[47.551020408163268,16.530612244897959,14.081632653061224,10]},"error_y":{"color":"rgba(166,206,227,1)","width":[]},"error_x":{"color":"rgba(166,206,227,1)","width":[]},"line":{"color":"rgba(166,206,227,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[79],"y":[114],"text":"Yale","mode":"markers","marker":{"color":"rgba(62,133,187,1)","size":[31.22448979591837],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(62,133,187,1)"}},"type":"scatter","name":"Connecticut","textfont":{"color":"rgba(62,133,187,1)","size":31.22448979591837},"error_y":{"color":"rgba(62,133,187,1)","width":31.22448979591837},"error_x":{"color":"rgba(62,133,187,1)","width":31.22448979591837},"line":{"color":"rgba(62,133,187,1)","width":31.22448979591837},"xaxis":"x","yaxis":"y","frame":null},{"x":[68],"y":[82],"text":"Emory","mode":"markers","marker":{"color":"rgba(147,190,154,1)","size":[14.081632653061224],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(147,190,154,1)"}},"type":"scatter","name":"Georgia","textfont":{"color":"rgba(147,190,154,1)","size":14.081632653061224},"error_y":{"color":"rgba(147,190,154,1)","width":14.081632653061224},"error_x":{"color":"rgba(147,190,154,1)","width":14.081632653061224},"line":{"color":"rgba(147,190,154,1)","width":14.081632653061224},"xaxis":"x","yaxis":"y","frame":null},{"x":[78],"y":[118],"text":"Chicago","mode":"markers","marker":{"color":"rgba(115,189,88,1)","size":[35.306122448979593],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(115,189,88,1)"}},"type":"scatter","name":"Illinois","textfont":{"color":"rgba(115,189,88,1)","size":35.306122448979593},"error_y":{"color":"rgba(115,189,88,1)","width":35.306122448979593},"error_x":{"color":"rgba(115,189,88,1)","width":35.306122448979593},"line":{"color":"rgba(115,189,88,1)","width":35.306122448979593},"xaxis":"x","yaxis":"y","frame":null},{"x":[73],"y":[100],"text":"Notre Dame","mode":"markers","marker":{"color":"rgba(144,163,89,1)","size":[24.693877551020407],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(144,163,89,1)"}},"type":"scatter","name":"Indiana","textfont":{"color":"rgba(144,163,89,1)","size":24.693877551020407},"error_y":{"color":"rgba(144,163,89,1)","width":24.693877551020407},"error_x":{"color":"rgba(144,163,89,1)","width":24.693877551020407},"line":{"color":"rgba(144,163,89,1)","width":24.693877551020407},"xaxis":"x","yaxis":"y","frame":null},{"x":[94,112,76],"y":[152,165,112],"text":["MIT","Harvard","Tufts"],"mode":"markers","marker":{"color":"rgba(248,131,123,1)","size":[50,45.918367346938773,32.04081632653061],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(248,131,123,1)"}},"type":"scatter","name":"Massachusetts","textfont":{"color":"rgba(248,131,123,1)","size":[50,45.918367346938773,32.04081632653061]},"error_y":{"color":"rgba(248,131,123,1)","width":[]},"error_x":{"color":"rgba(248,131,123,1)","width":[]},"line":{"color":"rgba(248,131,123,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[62],"y":[84],"text":"Michigan","mode":"markers","marker":{"color":"rgba(230,50,34,1)","size":[20.612244897959187],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(230,50,34,1)"}},"type":"scatter","name":"Michigan","textfont":{"color":"rgba(230,50,34,1)","size":20.612244897959187},"error_y":{"color":"rgba(230,50,34,1)","width":20.612244897959187},"error_x":{"color":"rgba(230,50,34,1)","width":20.612244897959187},"line":{"color":"rgba(230,50,34,1)","width":20.612244897959187},"xaxis":"x","yaxis":"y","frame":null},{"x":[84],"y":[114],"text":"Dartmouth","mode":"markers","marker":{"color":"rgba(252,181,104,1)","size":[27.142857142857142],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(252,181,104,1)"}},"type":"scatter","name":"New Hampshire","textfont":{"color":"rgba(252,181,104,1)","size":27.142857142857142},"error_y":{"color":"rgba(252,181,104,1)","width":27.142857142857142},"error_x":{"color":"rgba(252,181,104,1)","width":27.142857142857142},"line":{"color":"rgba(252,181,104,1)","width":27.142857142857142},"xaxis":"x","yaxis":"y","frame":null},{"x":[90],"y":[137],"text":"Princeton","mode":"markers","marker":{"color":"rgba(255,142,39,1)","size":[41.020408163265301],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(255,142,39,1)"}},"type":"scatter","name":"New Jersey","textfont":{"color":"rgba(255,142,39,1)","size":41.020408163265301},"error_y":{"color":"rgba(255,142,39,1)","width":41.020408163265301},"error_x":{"color":"rgba(255,142,39,1)","width":41.020408163265301},"line":{"color":"rgba(255,142,39,1)","width":41.020408163265301},"xaxis":"x","yaxis":"y","frame":null},{"x":[86,67,80],"y":[119,94,107],"text":["Columbia","NYU","Cornell"],"mode":"markers","marker":{"color":"rgba(233,159,143,1)","size":[29.591836734693878,24.693877551020407,24.693877551020407],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(233,159,143,1)"}},"type":"scatter","name":"New York","textfont":{"color":"rgba(233,159,143,1)","size":[29.591836734693878,24.693877551020407,24.693877551020407]},"error_y":{"color":"rgba(233,159,143,1)","width":[]},"error_x":{"color":"rgba(233,159,143,1)","width":[]},"line":{"color":"rgba(233,159,143,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[93],"y":[124],"text":"Duke","mode":"markers","marker":{"color":"rgba(158,123,186,1)","size":[27.959183673469386],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(158,123,186,1)"}},"type":"scatter","name":"North Carolina","textfont":{"color":"rgba(158,123,186,1)","size":27.959183673469386},"error_y":{"color":"rgba(158,123,186,1)","width":27.959183673469386},"error_x":{"color":"rgba(158,123,186,1)","width":27.959183673469386},"line":{"color":"rgba(158,123,186,1)","width":27.959183673469386},"xaxis":"x","yaxis":"y","frame":null},{"x":[92],"y":[141],"text":"U.Penn","mode":"markers","marker":{"color":"rgba(158,118,158,1)","size":[42.653061224489797],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(158,118,158,1)"}},"type":"scatter","name":"Pennsylvania","textfont":{"color":"rgba(158,118,158,1)","size":42.653061224489797},"error_y":{"color":"rgba(158,118,158,1)","width":42.653061224489797},"error_x":{"color":"rgba(158,118,158,1)","width":42.653061224489797},"line":{"color":"rgba(158,118,158,1)","width":42.653061224489797},"xaxis":"x","yaxis":"y","frame":null},{"x":[72],"y":[92],"text":"Brown","mode":"markers","marker":{"color":"rgba(245,229,134,1)","size":[18.979591836734691],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(245,229,134,1)"}},"type":"scatter","name":"Rhode Island","textfont":{"color":"rgba(245,229,134,1)","size":18.979591836734691},"error_y":{"color":"rgba(245,229,134,1)","width":18.979591836734691},"error_x":{"color":"rgba(245,229,134,1)","width":18.979591836734691},"line":{"color":"rgba(245,229,134,1)","width":18.979591836734691},"xaxis":"x","yaxis":"y","frame":null},{"x":[94],"y":[131],"text":"Georgetown","mode":"markers","marker":{"color":"rgba(177,89,40,1)","size":[32.857142857142854],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(177,89,40,1)"}},"type":"scatter","name":"Washington DC","textfont":{"color":"rgba(177,89,40,1)","size":32.857142857142854},"error_y":{"color":"rgba(177,89,40,1)","width":32.857142857142854},"error_x":{"color":"rgba(177,89,40,1)","width":32.857142857142854},"line":{"color":"rgba(177,89,40,1)","width":32.857142857142854},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

### Scaling using Sizeref

To scale the bubble size, use the attribute sizeref. We recommend using the following formula to calculate a sizeref value:<br><br>
sizeref = 2. * max(array of size values) / (desired maximum marker size ** 2)
<br><br>
Note that setting sizeref to a value greater than 1 decreases the rendered marker sizes, while setting sizeref to less than 1 increases the rendered marker sizes. See [https://plotly.com/python/reference/#scatter-marker-sizeref](https://plotly.com/python/reference/#scatter-marker-sizeref) for more information.
<br><br>
Additionally, we recommend setting the sizemode attribute: [https://plotly.com/python/reference/#scatter-marker-sizemode](https://plotly.com/python/reference/#scatter-marker-sizemode) to area.



``` r
library(plotly)

data <- read.csv("https://raw.githubusercontent.com/plotly/datasets/master/school_earnings.csv")

data$State <- as.factor(c('Massachusetts', 'California', 'Massachusetts', 'Pennsylvania', 'New Jersey', 'Illinois', 'Washington DC',
                          'Massachusetts', 'Connecticut', 'New York', 'North Carolina', 'New Hampshire', 'New York', 'Indiana',
                          'New York', 'Michigan', 'Rhode Island', 'California', 'Georgia', 'California', 'California'))

#Use the ideal sizeref value
desired_maximum_marker_size <- 40
your_list_of_size_values <- data['Gap']
sizeref <- 2.0 * max(your_list_of_size_values) / (desired_maximum_marker_size**2)

fig <- plot_ly(data, x = ~Women, y = ~Men, text = ~School, type = 'scatter', mode = 'markers', color = ~State, colors = 'Paired',
        sizes = c(10, 50),
        marker = list(size = your_list_of_size_values, opacity = 0.5, sizemode = 'area', sizeref = sizeref))
fig <- fig %>% layout(title = 'Gender Gap in Earnings per University',
         xaxis = list(showgrid = FALSE),
         yaxis = list(showgrid = FALSE),
         showlegend = FALSE)

fig
```

<div class="plotly html-widget html-fill-item" id="htmlwidget-e404973664acb0e9570b" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-e404973664acb0e9570b">{"x":{"visdat":{"1586735e61d":["function () ","plotlyVisDat"]},"cur_data":"1586735e61d","attrs":{"1586735e61d":{"x":{},"y":{},"text":{},"mode":"markers","marker":{"size":[{"Gap":58},{"Gap":55},{"Gap":53},{"Gap":49},{"Gap":47},{"Gap":40},{"Gap":37},{"Gap":36},{"Gap":35},{"Gap":33},{"Gap":31},{"Gap":30},{"Gap":27},{"Gap":27},{"Gap":27},{"Gap":22},{"Gap":20},{"Gap":17},{"Gap":14},{"Gap":14},{"Gap":9}],"opacity":0.5,"sizemode":"area","sizeref":0.072499999999999995},"color":{},"colors":"Paired","alpha_stroke":1,"sizes":[10,50],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Gender Gap in Earnings per University","xaxis":{"domain":[0,1],"automargin":true,"showgrid":false,"title":"Women"},"yaxis":{"domain":[0,1],"automargin":true,"showgrid":false,"title":"Men"},"showlegend":false,"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[96,71,64,72],"y":[151,88,78,81],"text":["Stanford","Berkeley","UCLA","SoCal"],"mode":"markers","marker":{"color":"rgba(166,206,227,1)","size":{"Gap":[58,55,53,49]},"opacity":0.5,"sizemode":"area","sizeref":0.072499999999999995,"line":{"color":"rgba(166,206,227,1)"}},"type":"scatter","name":"California","textfont":{"color":"rgba(166,206,227,1)"},"error_y":{"color":"rgba(166,206,227,1)"},"error_x":{"color":"rgba(166,206,227,1)"},"line":{"color":"rgba(166,206,227,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[79],"y":[114],"text":"Yale","mode":"markers","marker":{"color":"rgba(62,133,187,1)","size":{"Gap":47},"opacity":0.5,"sizemode":"area","sizeref":0.072499999999999995,"line":{"color":"rgba(62,133,187,1)"}},"type":"scatter","name":"Connecticut","textfont":{"color":"rgba(62,133,187,1)"},"error_y":{"color":"rgba(62,133,187,1)"},"error_x":{"color":"rgba(62,133,187,1)"},"line":{"color":"rgba(62,133,187,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[68],"y":[82],"text":"Emory","mode":"markers","marker":{"color":"rgba(147,190,154,1)","size":{"Gap":40},"opacity":0.5,"sizemode":"area","sizeref":0.072499999999999995,"line":{"color":"rgba(147,190,154,1)"}},"type":"scatter","name":"Georgia","textfont":{"color":"rgba(147,190,154,1)"},"error_y":{"color":"rgba(147,190,154,1)"},"error_x":{"color":"rgba(147,190,154,1)"},"line":{"color":"rgba(147,190,154,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[78],"y":[118],"text":"Chicago","mode":"markers","marker":{"color":"rgba(115,189,88,1)","size":{"Gap":37},"opacity":0.5,"sizemode":"area","sizeref":0.072499999999999995,"line":{"color":"rgba(115,189,88,1)"}},"type":"scatter","name":"Illinois","textfont":{"color":"rgba(115,189,88,1)"},"error_y":{"color":"rgba(115,189,88,1)"},"error_x":{"color":"rgba(115,189,88,1)"},"line":{"color":"rgba(115,189,88,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[73],"y":[100],"text":"Notre Dame","mode":"markers","marker":{"color":"rgba(144,163,89,1)","size":{"Gap":36},"opacity":0.5,"sizemode":"area","sizeref":0.072499999999999995,"line":{"color":"rgba(144,163,89,1)"}},"type":"scatter","name":"Indiana","textfont":{"color":"rgba(144,163,89,1)"},"error_y":{"color":"rgba(144,163,89,1)"},"error_x":{"color":"rgba(144,163,89,1)"},"line":{"color":"rgba(144,163,89,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[94,112,76],"y":[152,165,112],"text":["MIT","Harvard","Tufts"],"mode":"markers","marker":{"color":"rgba(248,131,123,1)","size":{"Gap":[35,33,31]},"opacity":0.5,"sizemode":"area","sizeref":0.072499999999999995,"line":{"color":"rgba(248,131,123,1)"}},"type":"scatter","name":"Massachusetts","textfont":{"color":"rgba(248,131,123,1)"},"error_y":{"color":"rgba(248,131,123,1)"},"error_x":{"color":"rgba(248,131,123,1)"},"line":{"color":"rgba(248,131,123,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[62],"y":[84],"text":"Michigan","mode":"markers","marker":{"color":"rgba(230,50,34,1)","size":{"Gap":30},"opacity":0.5,"sizemode":"area","sizeref":0.072499999999999995,"line":{"color":"rgba(230,50,34,1)"}},"type":"scatter","name":"Michigan","textfont":{"color":"rgba(230,50,34,1)"},"error_y":{"color":"rgba(230,50,34,1)"},"error_x":{"color":"rgba(230,50,34,1)"},"line":{"color":"rgba(230,50,34,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[84],"y":[114],"text":"Dartmouth","mode":"markers","marker":{"color":"rgba(252,181,104,1)","size":{"Gap":27},"opacity":0.5,"sizemode":"area","sizeref":0.072499999999999995,"line":{"color":"rgba(252,181,104,1)"}},"type":"scatter","name":"New Hampshire","textfont":{"color":"rgba(252,181,104,1)"},"error_y":{"color":"rgba(252,181,104,1)"},"error_x":{"color":"rgba(252,181,104,1)"},"line":{"color":"rgba(252,181,104,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[90],"y":[137],"text":"Princeton","mode":"markers","marker":{"color":"rgba(255,142,39,1)","size":{"Gap":27},"opacity":0.5,"sizemode":"area","sizeref":0.072499999999999995,"line":{"color":"rgba(255,142,39,1)"}},"type":"scatter","name":"New Jersey","textfont":{"color":"rgba(255,142,39,1)"},"error_y":{"color":"rgba(255,142,39,1)"},"error_x":{"color":"rgba(255,142,39,1)"},"line":{"color":"rgba(255,142,39,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[86,67,80],"y":[119,94,107],"text":["Columbia","NYU","Cornell"],"mode":"markers","marker":{"color":"rgba(233,159,143,1)","size":{"Gap":[27,22,20]},"opacity":0.5,"sizemode":"area","sizeref":0.072499999999999995,"line":{"color":"rgba(233,159,143,1)"}},"type":"scatter","name":"New York","textfont":{"color":"rgba(233,159,143,1)"},"error_y":{"color":"rgba(233,159,143,1)"},"error_x":{"color":"rgba(233,159,143,1)"},"line":{"color":"rgba(233,159,143,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[93],"y":[124],"text":"Duke","mode":"markers","marker":{"color":"rgba(158,123,186,1)","size":{"Gap":17},"opacity":0.5,"sizemode":"area","sizeref":0.072499999999999995,"line":{"color":"rgba(158,123,186,1)"}},"type":"scatter","name":"North Carolina","textfont":{"color":"rgba(158,123,186,1)"},"error_y":{"color":"rgba(158,123,186,1)"},"error_x":{"color":"rgba(158,123,186,1)"},"line":{"color":"rgba(158,123,186,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[92],"y":[141],"text":"U.Penn","mode":"markers","marker":{"color":"rgba(158,118,158,1)","size":{"Gap":14},"opacity":0.5,"sizemode":"area","sizeref":0.072499999999999995,"line":{"color":"rgba(158,118,158,1)"}},"type":"scatter","name":"Pennsylvania","textfont":{"color":"rgba(158,118,158,1)"},"error_y":{"color":"rgba(158,118,158,1)"},"error_x":{"color":"rgba(158,118,158,1)"},"line":{"color":"rgba(158,118,158,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[72],"y":[92],"text":"Brown","mode":"markers","marker":{"color":"rgba(245,229,134,1)","size":{"Gap":14},"opacity":0.5,"sizemode":"area","sizeref":0.072499999999999995,"line":{"color":"rgba(245,229,134,1)"}},"type":"scatter","name":"Rhode Island","textfont":{"color":"rgba(245,229,134,1)"},"error_y":{"color":"rgba(245,229,134,1)"},"error_x":{"color":"rgba(245,229,134,1)"},"line":{"color":"rgba(245,229,134,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[94],"y":[131],"text":"Georgetown","mode":"markers","marker":{"color":"rgba(177,89,40,1)","size":{"Gap":9},"opacity":0.5,"sizemode":"area","sizeref":0.072499999999999995,"line":{"color":"rgba(177,89,40,1)"}},"type":"scatter","name":"Washington DC","textfont":{"color":"rgba(177,89,40,1)"},"error_y":{"color":"rgba(177,89,40,1)"},"error_x":{"color":"rgba(177,89,40,1)"},"line":{"color":"rgba(177,89,40,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

### Scaling V2



``` r
library(plotly)

data <- read.csv("https://raw.githubusercontent.com/plotly/datasets/master/school_earnings.csv")

data$State <- as.factor(c('Massachusetts', 'California', 'Massachusetts', 'Pennsylvania', 'New Jersey', 'Illinois', 'Washington DC',
                          'Massachusetts', 'Connecticut', 'New York', 'North Carolina', 'New Hampshire', 'New York', 'Indiana',
                          'New York', 'Michigan', 'Rhode Island', 'California', 'Georgia', 'California', 'California'))

fig <- plot_ly(data, x = ~Women, y = ~Men, text = ~School, type = 'scatter', mode = 'markers', size = ~Gap, color = ~State, colors = 'Paired',
        #Choosing the range of the bubbles' sizes:
        sizes = c(10, 50),
        marker = list(opacity = 0.5, sizemode = 'diameter'))
fig <- fig %>% layout(title = 'Gender Gap in Earnings per University',
         xaxis = list(showgrid = FALSE),
         yaxis = list(showgrid = FALSE),
         showlegend = FALSE)

fig
```

<div class="plotly html-widget html-fill-item" id="htmlwidget-95a8c8862b3ec0478713" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-95a8c8862b3ec0478713">{"x":{"visdat":{"15863cafd242":["function () ","plotlyVisDat"]},"cur_data":"15863cafd242","attrs":{"15863cafd242":{"x":{},"y":{},"text":{},"mode":"markers","marker":{"opacity":0.5,"sizemode":"diameter"},"color":{},"size":{},"colors":"Paired","alpha_stroke":1,"sizes":[10,50],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Gender Gap in Earnings per University","xaxis":{"domain":[0,1],"automargin":true,"showgrid":false,"title":"Women"},"yaxis":{"domain":[0,1],"automargin":true,"showgrid":false,"title":"Men"},"showlegend":false,"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[96,71,64,72],"y":[151,88,78,81],"text":["Stanford","Berkeley","UCLA","SoCal"],"mode":"markers","marker":{"color":"rgba(166,206,227,1)","size":[47.551020408163268,16.530612244897959,14.081632653061224,10],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(166,206,227,1)"}},"type":"scatter","name":"California","textfont":{"color":"rgba(166,206,227,1)","size":[47.551020408163268,16.530612244897959,14.081632653061224,10]},"error_y":{"color":"rgba(166,206,227,1)","width":[]},"error_x":{"color":"rgba(166,206,227,1)","width":[]},"line":{"color":"rgba(166,206,227,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[79],"y":[114],"text":"Yale","mode":"markers","marker":{"color":"rgba(62,133,187,1)","size":[31.22448979591837],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(62,133,187,1)"}},"type":"scatter","name":"Connecticut","textfont":{"color":"rgba(62,133,187,1)","size":31.22448979591837},"error_y":{"color":"rgba(62,133,187,1)","width":31.22448979591837},"error_x":{"color":"rgba(62,133,187,1)","width":31.22448979591837},"line":{"color":"rgba(62,133,187,1)","width":31.22448979591837},"xaxis":"x","yaxis":"y","frame":null},{"x":[68],"y":[82],"text":"Emory","mode":"markers","marker":{"color":"rgba(147,190,154,1)","size":[14.081632653061224],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(147,190,154,1)"}},"type":"scatter","name":"Georgia","textfont":{"color":"rgba(147,190,154,1)","size":14.081632653061224},"error_y":{"color":"rgba(147,190,154,1)","width":14.081632653061224},"error_x":{"color":"rgba(147,190,154,1)","width":14.081632653061224},"line":{"color":"rgba(147,190,154,1)","width":14.081632653061224},"xaxis":"x","yaxis":"y","frame":null},{"x":[78],"y":[118],"text":"Chicago","mode":"markers","marker":{"color":"rgba(115,189,88,1)","size":[35.306122448979593],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(115,189,88,1)"}},"type":"scatter","name":"Illinois","textfont":{"color":"rgba(115,189,88,1)","size":35.306122448979593},"error_y":{"color":"rgba(115,189,88,1)","width":35.306122448979593},"error_x":{"color":"rgba(115,189,88,1)","width":35.306122448979593},"line":{"color":"rgba(115,189,88,1)","width":35.306122448979593},"xaxis":"x","yaxis":"y","frame":null},{"x":[73],"y":[100],"text":"Notre Dame","mode":"markers","marker":{"color":"rgba(144,163,89,1)","size":[24.693877551020407],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(144,163,89,1)"}},"type":"scatter","name":"Indiana","textfont":{"color":"rgba(144,163,89,1)","size":24.693877551020407},"error_y":{"color":"rgba(144,163,89,1)","width":24.693877551020407},"error_x":{"color":"rgba(144,163,89,1)","width":24.693877551020407},"line":{"color":"rgba(144,163,89,1)","width":24.693877551020407},"xaxis":"x","yaxis":"y","frame":null},{"x":[94,112,76],"y":[152,165,112],"text":["MIT","Harvard","Tufts"],"mode":"markers","marker":{"color":"rgba(248,131,123,1)","size":[50,45.918367346938773,32.04081632653061],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(248,131,123,1)"}},"type":"scatter","name":"Massachusetts","textfont":{"color":"rgba(248,131,123,1)","size":[50,45.918367346938773,32.04081632653061]},"error_y":{"color":"rgba(248,131,123,1)","width":[]},"error_x":{"color":"rgba(248,131,123,1)","width":[]},"line":{"color":"rgba(248,131,123,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[62],"y":[84],"text":"Michigan","mode":"markers","marker":{"color":"rgba(230,50,34,1)","size":[20.612244897959187],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(230,50,34,1)"}},"type":"scatter","name":"Michigan","textfont":{"color":"rgba(230,50,34,1)","size":20.612244897959187},"error_y":{"color":"rgba(230,50,34,1)","width":20.612244897959187},"error_x":{"color":"rgba(230,50,34,1)","width":20.612244897959187},"line":{"color":"rgba(230,50,34,1)","width":20.612244897959187},"xaxis":"x","yaxis":"y","frame":null},{"x":[84],"y":[114],"text":"Dartmouth","mode":"markers","marker":{"color":"rgba(252,181,104,1)","size":[27.142857142857142],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(252,181,104,1)"}},"type":"scatter","name":"New Hampshire","textfont":{"color":"rgba(252,181,104,1)","size":27.142857142857142},"error_y":{"color":"rgba(252,181,104,1)","width":27.142857142857142},"error_x":{"color":"rgba(252,181,104,1)","width":27.142857142857142},"line":{"color":"rgba(252,181,104,1)","width":27.142857142857142},"xaxis":"x","yaxis":"y","frame":null},{"x":[90],"y":[137],"text":"Princeton","mode":"markers","marker":{"color":"rgba(255,142,39,1)","size":[41.020408163265301],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(255,142,39,1)"}},"type":"scatter","name":"New Jersey","textfont":{"color":"rgba(255,142,39,1)","size":41.020408163265301},"error_y":{"color":"rgba(255,142,39,1)","width":41.020408163265301},"error_x":{"color":"rgba(255,142,39,1)","width":41.020408163265301},"line":{"color":"rgba(255,142,39,1)","width":41.020408163265301},"xaxis":"x","yaxis":"y","frame":null},{"x":[86,67,80],"y":[119,94,107],"text":["Columbia","NYU","Cornell"],"mode":"markers","marker":{"color":"rgba(233,159,143,1)","size":[29.591836734693878,24.693877551020407,24.693877551020407],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(233,159,143,1)"}},"type":"scatter","name":"New York","textfont":{"color":"rgba(233,159,143,1)","size":[29.591836734693878,24.693877551020407,24.693877551020407]},"error_y":{"color":"rgba(233,159,143,1)","width":[]},"error_x":{"color":"rgba(233,159,143,1)","width":[]},"line":{"color":"rgba(233,159,143,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[93],"y":[124],"text":"Duke","mode":"markers","marker":{"color":"rgba(158,123,186,1)","size":[27.959183673469386],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(158,123,186,1)"}},"type":"scatter","name":"North Carolina","textfont":{"color":"rgba(158,123,186,1)","size":27.959183673469386},"error_y":{"color":"rgba(158,123,186,1)","width":27.959183673469386},"error_x":{"color":"rgba(158,123,186,1)","width":27.959183673469386},"line":{"color":"rgba(158,123,186,1)","width":27.959183673469386},"xaxis":"x","yaxis":"y","frame":null},{"x":[92],"y":[141],"text":"U.Penn","mode":"markers","marker":{"color":"rgba(158,118,158,1)","size":[42.653061224489797],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(158,118,158,1)"}},"type":"scatter","name":"Pennsylvania","textfont":{"color":"rgba(158,118,158,1)","size":42.653061224489797},"error_y":{"color":"rgba(158,118,158,1)","width":42.653061224489797},"error_x":{"color":"rgba(158,118,158,1)","width":42.653061224489797},"line":{"color":"rgba(158,118,158,1)","width":42.653061224489797},"xaxis":"x","yaxis":"y","frame":null},{"x":[72],"y":[92],"text":"Brown","mode":"markers","marker":{"color":"rgba(245,229,134,1)","size":[18.979591836734691],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(245,229,134,1)"}},"type":"scatter","name":"Rhode Island","textfont":{"color":"rgba(245,229,134,1)","size":18.979591836734691},"error_y":{"color":"rgba(245,229,134,1)","width":18.979591836734691},"error_x":{"color":"rgba(245,229,134,1)","width":18.979591836734691},"line":{"color":"rgba(245,229,134,1)","width":18.979591836734691},"xaxis":"x","yaxis":"y","frame":null},{"x":[94],"y":[131],"text":"Georgetown","mode":"markers","marker":{"color":"rgba(177,89,40,1)","size":[32.857142857142854],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(177,89,40,1)"}},"type":"scatter","name":"Washington DC","textfont":{"color":"rgba(177,89,40,1)","size":32.857142857142854},"error_y":{"color":"rgba(177,89,40,1)","width":32.857142857142854},"error_x":{"color":"rgba(177,89,40,1)","width":32.857142857142854},"line":{"color":"rgba(177,89,40,1)","width":32.857142857142854},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>


### Hover Text with Bubble Charts


``` r
library(plotly)

data <- read.csv("https://raw.githubusercontent.com/plotly/datasets/master/school_earnings.csv")

data$State <- as.factor(c('Massachusetts', 'California', 'Massachusetts', 'Pennsylvania', 'New Jersey', 'Illinois', 'Washington DC',
                          'Massachusetts', 'Connecticut', 'New York', 'North Carolina', 'New Hampshire', 'New York', 'Indiana',
                          'New York', 'Michigan', 'Rhode Island', 'California', 'Georgia', 'California', 'California'))

fig <- plot_ly(data, x = ~Women, y = ~Men, type = 'scatter', mode = 'markers', size = ~Gap, color = ~State, colors = 'Paired',
        sizes = c(10, 50),
        marker = list(opacity = 0.5, sizemode = 'diameter'),
        hoverinfo = 'text',
        text = ~paste('School:', School, '<br>Gender Gap:', Gap))
fig <- fig %>% layout(title = 'Gender Gap in Earnings per University',
         xaxis = list(showgrid = FALSE),
         yaxis = list(showgrid = FALSE),
         showlegend = FALSE)

fig
```

<div class="plotly html-widget html-fill-item" id="htmlwidget-8b58048cd781b965385a" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-8b58048cd781b965385a">{"x":{"visdat":{"158653895aa6":["function () ","plotlyVisDat"]},"cur_data":"158653895aa6","attrs":{"158653895aa6":{"x":{},"y":{},"mode":"markers","marker":{"opacity":0.5,"sizemode":"diameter"},"hoverinfo":"text","text":{},"color":{},"size":{},"colors":"Paired","alpha_stroke":1,"sizes":[10,50],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Gender Gap in Earnings per University","xaxis":{"domain":[0,1],"automargin":true,"showgrid":false,"title":"Women"},"yaxis":{"domain":[0,1],"automargin":true,"showgrid":false,"title":"Men"},"showlegend":false,"hovermode":"closest"},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[96,71,64,72],"y":[151,88,78,81],"mode":"markers","marker":{"color":"rgba(166,206,227,1)","size":[47.551020408163268,16.530612244897959,14.081632653061224,10],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(166,206,227,1)"}},"hoverinfo":["text","text","text","text"],"text":["School: Stanford <br>Gender Gap: 55","School: Berkeley <br>Gender Gap: 17","School: UCLA <br>Gender Gap: 14","School: SoCal <br>Gender Gap: 9"],"type":"scatter","name":"California","textfont":{"color":"rgba(166,206,227,1)","size":[47.551020408163268,16.530612244897959,14.081632653061224,10]},"error_y":{"color":"rgba(166,206,227,1)","width":[]},"error_x":{"color":"rgba(166,206,227,1)","width":[]},"line":{"color":"rgba(166,206,227,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[79],"y":[114],"mode":"markers","marker":{"color":"rgba(62,133,187,1)","size":[31.22448979591837],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(62,133,187,1)"}},"hoverinfo":"text","text":"School: Yale <br>Gender Gap: 35","type":"scatter","name":"Connecticut","textfont":{"color":"rgba(62,133,187,1)","size":31.22448979591837},"error_y":{"color":"rgba(62,133,187,1)","width":31.22448979591837},"error_x":{"color":"rgba(62,133,187,1)","width":31.22448979591837},"line":{"color":"rgba(62,133,187,1)","width":31.22448979591837},"xaxis":"x","yaxis":"y","frame":null},{"x":[68],"y":[82],"mode":"markers","marker":{"color":"rgba(147,190,154,1)","size":[14.081632653061224],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(147,190,154,1)"}},"hoverinfo":"text","text":"School: Emory <br>Gender Gap: 14","type":"scatter","name":"Georgia","textfont":{"color":"rgba(147,190,154,1)","size":14.081632653061224},"error_y":{"color":"rgba(147,190,154,1)","width":14.081632653061224},"error_x":{"color":"rgba(147,190,154,1)","width":14.081632653061224},"line":{"color":"rgba(147,190,154,1)","width":14.081632653061224},"xaxis":"x","yaxis":"y","frame":null},{"x":[78],"y":[118],"mode":"markers","marker":{"color":"rgba(115,189,88,1)","size":[35.306122448979593],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(115,189,88,1)"}},"hoverinfo":"text","text":"School: Chicago <br>Gender Gap: 40","type":"scatter","name":"Illinois","textfont":{"color":"rgba(115,189,88,1)","size":35.306122448979593},"error_y":{"color":"rgba(115,189,88,1)","width":35.306122448979593},"error_x":{"color":"rgba(115,189,88,1)","width":35.306122448979593},"line":{"color":"rgba(115,189,88,1)","width":35.306122448979593},"xaxis":"x","yaxis":"y","frame":null},{"x":[73],"y":[100],"mode":"markers","marker":{"color":"rgba(144,163,89,1)","size":[24.693877551020407],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(144,163,89,1)"}},"hoverinfo":"text","text":"School: Notre Dame <br>Gender Gap: 27","type":"scatter","name":"Indiana","textfont":{"color":"rgba(144,163,89,1)","size":24.693877551020407},"error_y":{"color":"rgba(144,163,89,1)","width":24.693877551020407},"error_x":{"color":"rgba(144,163,89,1)","width":24.693877551020407},"line":{"color":"rgba(144,163,89,1)","width":24.693877551020407},"xaxis":"x","yaxis":"y","frame":null},{"x":[94,112,76],"y":[152,165,112],"mode":"markers","marker":{"color":"rgba(248,131,123,1)","size":[50,45.918367346938773,32.04081632653061],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(248,131,123,1)"}},"hoverinfo":["text","text","text"],"text":["School: MIT <br>Gender Gap: 58","School: Harvard <br>Gender Gap: 53","School: Tufts <br>Gender Gap: 36"],"type":"scatter","name":"Massachusetts","textfont":{"color":"rgba(248,131,123,1)","size":[50,45.918367346938773,32.04081632653061]},"error_y":{"color":"rgba(248,131,123,1)","width":[]},"error_x":{"color":"rgba(248,131,123,1)","width":[]},"line":{"color":"rgba(248,131,123,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[62],"y":[84],"mode":"markers","marker":{"color":"rgba(230,50,34,1)","size":[20.612244897959187],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(230,50,34,1)"}},"hoverinfo":"text","text":"School: Michigan <br>Gender Gap: 22","type":"scatter","name":"Michigan","textfont":{"color":"rgba(230,50,34,1)","size":20.612244897959187},"error_y":{"color":"rgba(230,50,34,1)","width":20.612244897959187},"error_x":{"color":"rgba(230,50,34,1)","width":20.612244897959187},"line":{"color":"rgba(230,50,34,1)","width":20.612244897959187},"xaxis":"x","yaxis":"y","frame":null},{"x":[84],"y":[114],"mode":"markers","marker":{"color":"rgba(252,181,104,1)","size":[27.142857142857142],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(252,181,104,1)"}},"hoverinfo":"text","text":"School: Dartmouth <br>Gender Gap: 30","type":"scatter","name":"New Hampshire","textfont":{"color":"rgba(252,181,104,1)","size":27.142857142857142},"error_y":{"color":"rgba(252,181,104,1)","width":27.142857142857142},"error_x":{"color":"rgba(252,181,104,1)","width":27.142857142857142},"line":{"color":"rgba(252,181,104,1)","width":27.142857142857142},"xaxis":"x","yaxis":"y","frame":null},{"x":[90],"y":[137],"mode":"markers","marker":{"color":"rgba(255,142,39,1)","size":[41.020408163265301],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(255,142,39,1)"}},"hoverinfo":"text","text":"School: Princeton <br>Gender Gap: 47","type":"scatter","name":"New Jersey","textfont":{"color":"rgba(255,142,39,1)","size":41.020408163265301},"error_y":{"color":"rgba(255,142,39,1)","width":41.020408163265301},"error_x":{"color":"rgba(255,142,39,1)","width":41.020408163265301},"line":{"color":"rgba(255,142,39,1)","width":41.020408163265301},"xaxis":"x","yaxis":"y","frame":null},{"x":[86,67,80],"y":[119,94,107],"mode":"markers","marker":{"color":"rgba(233,159,143,1)","size":[29.591836734693878,24.693877551020407,24.693877551020407],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(233,159,143,1)"}},"hoverinfo":["text","text","text"],"text":["School: Columbia <br>Gender Gap: 33","School: NYU <br>Gender Gap: 27","School: Cornell <br>Gender Gap: 27"],"type":"scatter","name":"New York","textfont":{"color":"rgba(233,159,143,1)","size":[29.591836734693878,24.693877551020407,24.693877551020407]},"error_y":{"color":"rgba(233,159,143,1)","width":[]},"error_x":{"color":"rgba(233,159,143,1)","width":[]},"line":{"color":"rgba(233,159,143,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[93],"y":[124],"mode":"markers","marker":{"color":"rgba(158,123,186,1)","size":[27.959183673469386],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(158,123,186,1)"}},"hoverinfo":"text","text":"School: Duke <br>Gender Gap: 31","type":"scatter","name":"North Carolina","textfont":{"color":"rgba(158,123,186,1)","size":27.959183673469386},"error_y":{"color":"rgba(158,123,186,1)","width":27.959183673469386},"error_x":{"color":"rgba(158,123,186,1)","width":27.959183673469386},"line":{"color":"rgba(158,123,186,1)","width":27.959183673469386},"xaxis":"x","yaxis":"y","frame":null},{"x":[92],"y":[141],"mode":"markers","marker":{"color":"rgba(158,118,158,1)","size":[42.653061224489797],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(158,118,158,1)"}},"hoverinfo":"text","text":"School: U.Penn <br>Gender Gap: 49","type":"scatter","name":"Pennsylvania","textfont":{"color":"rgba(158,118,158,1)","size":42.653061224489797},"error_y":{"color":"rgba(158,118,158,1)","width":42.653061224489797},"error_x":{"color":"rgba(158,118,158,1)","width":42.653061224489797},"line":{"color":"rgba(158,118,158,1)","width":42.653061224489797},"xaxis":"x","yaxis":"y","frame":null},{"x":[72],"y":[92],"mode":"markers","marker":{"color":"rgba(245,229,134,1)","size":[18.979591836734691],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(245,229,134,1)"}},"hoverinfo":"text","text":"School: Brown <br>Gender Gap: 20","type":"scatter","name":"Rhode Island","textfont":{"color":"rgba(245,229,134,1)","size":18.979591836734691},"error_y":{"color":"rgba(245,229,134,1)","width":18.979591836734691},"error_x":{"color":"rgba(245,229,134,1)","width":18.979591836734691},"line":{"color":"rgba(245,229,134,1)","width":18.979591836734691},"xaxis":"x","yaxis":"y","frame":null},{"x":[94],"y":[131],"mode":"markers","marker":{"color":"rgba(177,89,40,1)","size":[32.857142857142854],"sizemode":"diameter","opacity":0.5,"line":{"color":"rgba(177,89,40,1)"}},"hoverinfo":"text","text":"School: Georgetown <br>Gender Gap: 37","type":"scatter","name":"Washington DC","textfont":{"color":"rgba(177,89,40,1)","size":32.857142857142854},"error_y":{"color":"rgba(177,89,40,1)","width":32.857142857142854},"error_x":{"color":"rgba(177,89,40,1)","width":32.857142857142854},"line":{"color":"rgba(177,89,40,1)","width":32.857142857142854},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

### Styled Buble Chart


``` r
library(plotly)

data <- read.csv("https://raw.githubusercontent.com/plotly/datasets/master/gapminderDataFiveYear.csv")

data_2007 <- data[which(data$year == 2007),]
data_2007 <- data_2007[order(data_2007$continent, data_2007$country),]
slope <- 2.666051223553066e-05
data_2007$size <- sqrt(data_2007$pop * slope)
colors <- c('#4AC6B7', '#1972A4', '#965F8A', '#FF7070', '#C61951')

fig <- plot_ly(data_2007, x = ~gdpPercap, y = ~lifeExp, color = ~continent, size = ~size, colors = colors,
        type = 'scatter', mode = 'markers', sizes = c(min(data_2007$size), max(data_2007$size)),
        marker = list(symbol = 'circle', sizemode = 'diameter',
                      line = list(width = 2, color = '#FFFFFF')),
        text = ~paste('Country:', country, '<br>Life Expectancy:', lifeExp, '<br>GDP:', gdpPercap,
                      '<br>Pop.:', pop))
fig <- fig %>% layout(title = 'Life Expectancy v. Per Capita GDP, 2007',
         xaxis = list(title = 'GDP per capita (2000 dollars)',
                      gridcolor = 'rgb(255, 255, 255)',
                      range = c(2.003297660701705, 5.191505530708712),
                      type = 'log',
                      zerolinewidth = 1,
                      ticklen = 5,
                      gridwidth = 2),
         yaxis = list(title = 'Life Expectancy (years)',
                      gridcolor = 'rgb(255, 255, 255)',
                      range = c(36.12621671352166, 91.72921793264332),
                      zerolinewidth = 1,
                      ticklen = 5,
                      gridwith = 2),
         paper_bgcolor = 'rgb(243, 243, 243)',
         plot_bgcolor = 'rgb(243, 243, 243)')

fig
```

<div class="plotly html-widget html-fill-item" id="htmlwidget-2c7a1f7edd048fc25f2c" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-2c7a1f7edd048fc25f2c">{"x":{"visdat":{"15867bd5919":["function () ","plotlyVisDat"]},"cur_data":"15867bd5919","attrs":{"15867bd5919":{"x":{},"y":{},"mode":"markers","marker":{"symbol":"circle","sizemode":"diameter","line":{"width":2,"color":"#FFFFFF"}},"text":{},"color":{},"size":{},"colors":["#4AC6B7","#1972A4","#965F8A","#FF7070","#C61951"],"alpha_stroke":1,"sizes":[2.3067029222366227,187.50137817012293],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Life Expectancy v. Per Capita GDP, 2007","xaxis":{"domain":[0,1],"automargin":true,"title":"GDP per capita (2000 dollars)","gridcolor":"rgb(255, 255, 255)","range":[2.0032976607017048,5.1915055307087119],"type":"log","zerolinewidth":1,"ticklen":5,"gridwidth":2},"yaxis":{"domain":[0,1],"automargin":true,"title":"Life Expectancy (years)","gridcolor":"rgb(255, 255, 255)","range":[36.126216713521657,91.729217932643323],"zerolinewidth":1,"ticklen":5,"gridwith":2},"paper_bgcolor":"rgb(243, 243, 243)","plot_bgcolor":"rgb(243, 243, 243)","hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[6223.3674650000003,4797.2312670000001,1441.2848730000001,12569.851769999999,1217.0329939999999,430.07069159999998,2042.0952400000001,706.01653699999997,1704.0637240000001,986.14787920000003,277.55185870000003,3632.5577979999998,1544.7501119999999,2082.4815669999998,5581.1809979999998,12154.089749999999,641.36952359999998,690.80557590000001,13206.48452,752.74972649999995,1327.6089099999999,942.6542111,579.23174300000005,1463.249282,1569.3314419999999,414.5073415,12057.49928,1044.7701259999999,759.34991009999999,1042.581557,1803.151496,10956.991120000001,3820.1752299999998,823.68562050000003,4811.0604290000001,619.67689240000004,2013.9773049999999,7670.122558,863.08846389999997,1598.4350890000001,1712.4721360000001,862.54075609999995,926.14106830000003,9269.6578079999999,2602.3949950000001,4513.4806429999999,1107.482182,882.96994380000001,7092.9230250000001,1056.3801209999999,1271.211593,469.70929810000001],"y":[72.301000000000002,42.731000000000002,56.728000000000002,50.728000000000002,52.295000000000002,49.579999999999998,50.43,44.741,50.651000000000003,65.152000000000001,46.462000000000003,55.322000000000003,48.328000000000003,54.790999999999997,71.337999999999994,51.579000000000001,58.039999999999999,52.947000000000003,56.734999999999999,59.448,60.021999999999998,56.006999999999998,46.387999999999998,54.109999999999999,42.591999999999999,45.677999999999997,73.951999999999998,59.442999999999998,48.302999999999997,54.466999999999999,64.164000000000001,72.801000000000002,71.164000000000001,42.082000000000001,52.905999999999999,56.866999999999997,46.859000000000002,76.441999999999993,46.241999999999997,65.528000000000006,63.061999999999998,42.567999999999998,48.158999999999999,49.338999999999999,58.555999999999997,39.613,52.517000000000003,58.420000000000002,73.923000000000002,51.542000000000002,42.384,43.487000000000002],"mode":"markers","marker":{"color":"rgba(74,198,183,1)","size":[29.810746602820707,18.197149567146909,14.675557544415771,6.6106030043512369,19.543385335458034,14.956442130894006,21.72077890062959,10.792626698653965,16.521859438354298,4.3536832428385139,41.502401000634656,10.0660920623388,21.914531960507809,3.6377994860078937,46.258986486203703,3.8334450569607408,11.437310410545445,45.164655423539315,6.2279610993141068,6.7091367386175929,24.694430700391301,16.285386604676695,6.2646122858244615,30.812100863425599,7.3251794032862119,9.2277911642264243,12.686497529335918,22.605739846185486,18.849582296257488,17.910159625556005,9.3371091855820438,5.7748727142860083,29.999726284158825,23.063420581238567,7.4019919943886965,18.541405181593333,59.999999999999567,4.612764339536934,15.369704446995593,2.3067029222366227,18.084735199216677,12.799108187017435,15.592022291528657,34.249155197329664,33.579028441587305,5.4961914046604843,31.887651824471725,12.329112567064373,16.551967740823031,27.887232791983848,17.696194784090487,18.116881039099077],"sizemode":"diameter","symbol":"circle","line":{"color":"#FFFFFF","width":2}},"text":["Country: Algeria <br>Life Expectancy: 72.301 <br>GDP: 6223.367465 <br>Pop.: 33333216","Country: Angola <br>Life Expectancy: 42.731 <br>GDP: 4797.231267 <br>Pop.: 12420476","Country: Benin <br>Life Expectancy: 56.728 <br>GDP: 1441.284873 <br>Pop.: 8078314","Country: Botswana <br>Life Expectancy: 50.728 <br>GDP: 12569.85177 <br>Pop.: 1639131","Country: Burkina Faso <br>Life Expectancy: 52.295 <br>GDP: 1217.032994 <br>Pop.: 14326203","Country: Burundi <br>Life Expectancy: 49.58 <br>GDP: 430.0706916 <br>Pop.: 8390505","Country: Cameroon <br>Life Expectancy: 50.43 <br>GDP: 2042.09524 <br>Pop.: 17696293","Country: Central African Republic <br>Life Expectancy: 44.741 <br>GDP: 706.016537 <br>Pop.: 4369038","Country: Chad <br>Life Expectancy: 50.651 <br>GDP: 1704.063724 <br>Pop.: 10238807","Country: Comoros <br>Life Expectancy: 65.152 <br>GDP: 986.1478792 <br>Pop.: 710960","Country: Congo, Dem. Rep. <br>Life Expectancy: 46.462 <br>GDP: 277.5518587 <br>Pop.: 64606759","Country: Congo, Rep. <br>Life Expectancy: 55.322 <br>GDP: 3632.557798 <br>Pop.: 3800610","Country: Cote d'Ivoire <br>Life Expectancy: 48.328 <br>GDP: 1544.750112 <br>Pop.: 18013409","Country: Djibouti <br>Life Expectancy: 54.791 <br>GDP: 2082.481567 <br>Pop.: 496374","Country: Egypt <br>Life Expectancy: 71.338 <br>GDP: 5581.180998 <br>Pop.: 80264543","Country: Equatorial Guinea <br>Life Expectancy: 51.579 <br>GDP: 12154.08975 <br>Pop.: 551201","Country: Eritrea <br>Life Expectancy: 58.04 <br>GDP: 641.3695236 <br>Pop.: 4906585","Country: Ethiopia <br>Life Expectancy: 52.947 <br>GDP: 690.8055759 <br>Pop.: 76511887","Country: Gabon <br>Life Expectancy: 56.735 <br>GDP: 13206.48452 <br>Pop.: 1454867","Country: Gambia <br>Life Expectancy: 59.448 <br>GDP: 752.7497265 <br>Pop.: 1688359","Country: Ghana <br>Life Expectancy: 60.022 <br>GDP: 1327.60891 <br>Pop.: 22873338","Country: Guinea <br>Life Expectancy: 56.007 <br>GDP: 942.6542111 <br>Pop.: 9947814","Country: Guinea-Bissau <br>Life Expectancy: 46.388 <br>GDP: 579.231743 <br>Pop.: 1472041","Country: Kenya <br>Life Expectancy: 54.11 <br>GDP: 1463.249282 <br>Pop.: 35610177","Country: Lesotho <br>Life Expectancy: 42.592 <br>GDP: 1569.331442 <br>Pop.: 2012649","Country: Liberia <br>Life Expectancy: 45.678 <br>GDP: 414.5073415 <br>Pop.: 3193942","Country: Libya <br>Life Expectancy: 73.952 <br>GDP: 12057.49928 <br>Pop.: 6036914","Country: Madagascar <br>Life Expectancy: 59.443 <br>GDP: 1044.770126 <br>Pop.: 19167654","Country: Malawi <br>Life Expectancy: 48.303 <br>GDP: 759.3499101 <br>Pop.: 13327079","Country: Mali <br>Life Expectancy: 54.467 <br>GDP: 1042.581557 <br>Pop.: 12031795","Country: Mauritania <br>Life Expectancy: 64.164 <br>GDP: 1803.151496 <br>Pop.: 3270065","Country: Mauritius <br>Life Expectancy: 72.801 <br>GDP: 10956.99112 <br>Pop.: 1250882","Country: Morocco <br>Life Expectancy: 71.164 <br>GDP: 3820.17523 <br>Pop.: 33757175","Country: Mozambique <br>Life Expectancy: 42.082 <br>GDP: 823.6856205 <br>Pop.: 19951656","Country: Namibia <br>Life Expectancy: 52.906 <br>GDP: 4811.060429 <br>Pop.: 2055080","Country: Niger <br>Life Expectancy: 56.867 <br>GDP: 619.6768924 <br>Pop.: 12894865","Country: Nigeria <br>Life Expectancy: 46.859 <br>GDP: 2013.977305 <br>Pop.: 135031164","Country: Reunion <br>Life Expectancy: 76.442 <br>GDP: 7670.122558 <br>Pop.: 798094","Country: Rwanda <br>Life Expectancy: 46.242 <br>GDP: 863.0884639 <br>Pop.: 8860588","Country: Sao Tome and Principe <br>Life Expectancy: 65.528 <br>GDP: 1598.435089 <br>Pop.: 199579","Country: Senegal <br>Life Expectancy: 63.062 <br>GDP: 1712.472136 <br>Pop.: 12267493","Country: Sierra Leone <br>Life Expectancy: 42.568 <br>GDP: 862.5407561 <br>Pop.: 6144562","Country: Somalia <br>Life Expectancy: 48.159 <br>GDP: 926.1410683 <br>Pop.: 9118773","Country: South Africa <br>Life Expectancy: 49.339 <br>GDP: 9269.657808 <br>Pop.: 43997828","Country: Sudan <br>Life Expectancy: 58.556 <br>GDP: 2602.394995 <br>Pop.: 42292929","Country: Swaziland <br>Life Expectancy: 39.613 <br>GDP: 4513.480643 <br>Pop.: 1133066","Country: Tanzania <br>Life Expectancy: 52.517 <br>GDP: 1107.482182 <br>Pop.: 38139640","Country: Togo <br>Life Expectancy: 58.42 <br>GDP: 882.9699438 <br>Pop.: 5701579","Country: Tunisia <br>Life Expectancy: 73.923 <br>GDP: 7092.923025 <br>Pop.: 10276158","Country: Uganda <br>Life Expectancy: 51.542 <br>GDP: 1056.380121 <br>Pop.: 29170398","Country: Zambia <br>Life Expectancy: 42.384 <br>GDP: 1271.211593 <br>Pop.: 11746035","Country: Zimbabwe <br>Life Expectancy: 43.487 <br>GDP: 469.7092981 <br>Pop.: 12311143"],"type":"scatter","name":"Africa","textfont":{"color":"rgba(74,198,183,1)","size":[29.810746602820707,18.197149567146909,14.675557544415771,6.6106030043512369,19.543385335458034,14.956442130894006,21.72077890062959,10.792626698653965,16.521859438354298,4.3536832428385139,41.502401000634656,10.0660920623388,21.914531960507809,3.6377994860078937,46.258986486203703,3.8334450569607408,11.437310410545445,45.164655423539315,6.2279610993141068,6.7091367386175929,24.694430700391301,16.285386604676695,6.2646122858244615,30.812100863425599,7.3251794032862119,9.2277911642264243,12.686497529335918,22.605739846185486,18.849582296257488,17.910159625556005,9.3371091855820438,5.7748727142860083,29.999726284158825,23.063420581238567,7.4019919943886965,18.541405181593333,59.999999999999567,4.612764339536934,15.369704446995593,2.3067029222366227,18.084735199216677,12.799108187017435,15.592022291528657,34.249155197329664,33.579028441587305,5.4961914046604843,31.887651824471725,12.329112567064373,16.551967740823031,27.887232791983848,17.696194784090487,18.116881039099077]},"error_y":{"color":"rgba(74,198,183,1)","width":[]},"error_x":{"color":"rgba(74,198,183,1)","width":[]},"line":{"color":"rgba(74,198,183,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[12779.379639999999,3822.137084,9065.8008250000003,36319.235009999997,13171.638849999999,7006.5804189999999,9645.06142,8948.1029230000004,6025.3747519999997,6873.262326,5728.3535140000004,5186.0500030000003,1201.637154,3548.3308459999998,7320.8802619999997,11977.57496,2749.3209649999999,9809.1856360000002,4172.8384640000004,7408.9055609999996,19328.709009999999,18008.509239999999,42951.65309,10611.46299,11415.805689999999],"y":[75.319999999999993,65.554000000000002,72.390000000000001,80.653000000000006,78.552999999999997,72.888999999999996,78.781999999999996,78.272999999999996,72.234999999999999,74.994,71.878,70.259,60.915999999999997,70.197999999999993,72.566999999999993,76.194999999999993,72.899000000000001,75.537000000000006,71.751999999999995,71.421000000000006,78.745999999999995,69.819000000000003,78.242000000000004,76.384,73.747],"mode":"markers","marker":{"color":"rgba(25,114,164,1)","size":[32.779109473854895,15.592346310727706,71.174301396112043,29.836190485324934,20.83649530710354,34.338449847402025,10.498164837830679,17.446567616766185,15.762801031590824,19.150286550024376,13.602045318067621,18.308487124294189,15.056207247625194,14.125188672343873,8.609282386029065,53.833274417581038,12.300727542669675,9.2972035008494451,13.332274906015909,27.649298541723773,10.252259728663214,5.3075145324492112,89.60214975992794,9.5870751165276182,26.371015346601311],"sizemode":"diameter","symbol":"circle","line":{"color":"#FFFFFF","width":2}},"text":["Country: Argentina <br>Life Expectancy: 75.32 <br>GDP: 12779.37964 <br>Pop.: 40301927","Country: Bolivia <br>Life Expectancy: 65.554 <br>GDP: 3822.137084 <br>Pop.: 9119152","Country: Brazil <br>Life Expectancy: 72.39 <br>GDP: 9065.800825 <br>Pop.: 190010647","Country: Canada <br>Life Expectancy: 80.653 <br>GDP: 36319.23501 <br>Pop.: 33390141","Country: Chile <br>Life Expectancy: 78.553 <br>GDP: 13171.63885 <br>Pop.: 16284741","Country: Colombia <br>Life Expectancy: 72.889 <br>GDP: 7006.580419 <br>Pop.: 44227550","Country: Costa Rica <br>Life Expectancy: 78.782 <br>GDP: 9645.06142 <br>Pop.: 4133884","Country: Cuba <br>Life Expectancy: 78.273 <br>GDP: 8948.102923 <br>Pop.: 11416987","Country: Dominican Republic <br>Life Expectancy: 72.235 <br>GDP: 6025.374752 <br>Pop.: 9319622","Country: Ecuador <br>Life Expectancy: 74.994 <br>GDP: 6873.262326 <br>Pop.: 13755680","Country: El Salvador <br>Life Expectancy: 71.878 <br>GDP: 5728.353514 <br>Pop.: 6939688","Country: Guatemala <br>Life Expectancy: 70.259 <br>GDP: 5186.050003 <br>Pop.: 12572928","Country: Haiti <br>Life Expectancy: 60.916 <br>GDP: 1201.637154 <br>Pop.: 8502814","Country: Honduras <br>Life Expectancy: 70.198 <br>GDP: 3548.330846 <br>Pop.: 7483763","Country: Jamaica <br>Life Expectancy: 72.567 <br>GDP: 7320.880262 <br>Pop.: 2780132","Country: Mexico <br>Life Expectancy: 76.195 <br>GDP: 11977.57496 <br>Pop.: 108700891","Country: Nicaragua <br>Life Expectancy: 72.899 <br>GDP: 2749.320965 <br>Pop.: 5675356","Country: Panama <br>Life Expectancy: 75.537 <br>GDP: 9809.185636 <br>Pop.: 3242173","Country: Paraguay <br>Life Expectancy: 71.752 <br>GDP: 4172.838464 <br>Pop.: 6667147","Country: Peru <br>Life Expectancy: 71.421 <br>GDP: 7408.905561 <br>Pop.: 28674757","Country: Puerto Rico <br>Life Expectancy: 78.746 <br>GDP: 19328.70901 <br>Pop.: 3942491","Country: Trinidad and Tobago <br>Life Expectancy: 69.819 <br>GDP: 18008.50924 <br>Pop.: 1056608","Country: United States <br>Life Expectancy: 78.242 <br>GDP: 42951.65309 <br>Pop.: 301139947","Country: Uruguay <br>Life Expectancy: 76.384 <br>GDP: 10611.46299 <br>Pop.: 3447496","Country: Venezuela <br>Life Expectancy: 73.747 <br>GDP: 11415.80569 <br>Pop.: 26084662"],"type":"scatter","name":"Americas","textfont":{"color":"rgba(25,114,164,1)","size":[32.779109473854895,15.592346310727706,71.174301396112043,29.836190485324934,20.83649530710354,34.338449847402025,10.498164837830679,17.446567616766185,15.762801031590824,19.150286550024376,13.602045318067621,18.308487124294189,15.056207247625194,14.125188672343873,8.609282386029065,53.833274417581038,12.300727542669675,9.2972035008494451,13.332274906015909,27.649298541723773,10.252259728663214,5.3075145324492112,89.60214975992794,9.5870751165276182,26.371015346601311]},"error_y":{"color":"rgba(25,114,164,1)","width":[]},"error_x":{"color":"rgba(25,114,164,1)","width":[]},"line":{"color":"rgba(25,114,164,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[974.58033839999996,29796.048340000001,1391.253792,1713.7786860000001,4959.1148540000004,39724.978669999997,2452.210407,3540.6515639999998,11605.71449,4471.0619059999999,25523.277099999999,31656.068060000001,4519.4611709999999,1593.06548,23348.139729999999,47306.989780000004,10461.05868,12451.6558,3095.7722709999998,944,1091.359778,22316.192869999999,2605.94758,3190.4810160000002,21654.83194,47143.179640000002,3970.0954069999998,4184.5480889999999,28718.276839999999,7458.3963270000004,2441.5764039999999,3025.3497980000002,2280.769906],"y":[43.828000000000003,75.635000000000005,64.061999999999998,59.722999999999999,72.960999999999999,82.207999999999998,64.697999999999993,70.650000000000006,70.963999999999999,59.545000000000002,80.745000000000005,82.602999999999994,72.534999999999997,67.296999999999997,78.623000000000005,77.587999999999994,71.992999999999995,74.241,66.802999999999997,62.069000000000003,63.784999999999997,75.640000000000001,65.483000000000004,71.688000000000002,72.777000000000001,79.971999999999994,72.396000000000001,74.143000000000001,78.400000000000006,70.616,74.248999999999995,73.421999999999997,62.698],"mode":"markers","marker":{"color":"rgba(150,95,138,1)","size":[29.158218092531492,4.3463684998244991,63.332691263870707,19.410372822791992,187.50137817012293,13.641897211716744,172.05735953138958,77.200243061250603,43.031009200183597,27.076824691452728,13.089635369762137,58.295466608856294,12.703591068691109,24.92460480070789,36.160188382861499,8.173095275129489,10.224640829775742,25.724466935285676,8.7536105722135638,35.684154076889236,27.758539693646313,9.2436029599997163,67.177684952998518,49.276435792805039,27.126699233639663,11.01751115964859,23.308674140715688,22.692312546756426,24.856358316068444,41.650332322297643,47.677437906919565,10.350400448892032,24.334675794511064],"sizemode":"diameter","symbol":"circle","line":{"color":"#FFFFFF","width":2}},"text":["Country: Afghanistan <br>Life Expectancy: 43.828 <br>GDP: 974.5803384 <br>Pop.: 31889923","Country: Bahrain <br>Life Expectancy: 75.635 <br>GDP: 29796.04834 <br>Pop.: 708573","Country: Bangladesh <br>Life Expectancy: 64.062 <br>GDP: 1391.253792 <br>Pop.: 150448339","Country: Cambodia <br>Life Expectancy: 59.723 <br>GDP: 1713.778686 <br>Pop.: 14131858","Country: China <br>Life Expectancy: 72.961 <br>GDP: 4959.114854 <br>Pop.: 1318683096","Country: Hong Kong, China <br>Life Expectancy: 82.208 <br>GDP: 39724.97867 <br>Pop.: 6980412","Country: India <br>Life Expectancy: 64.698 <br>GDP: 2452.210407 <br>Pop.: 1110396331","Country: Indonesia <br>Life Expectancy: 70.65 <br>GDP: 3540.651564 <br>Pop.: 223547000","Country: Iran <br>Life Expectancy: 70.964 <br>GDP: 11605.71449 <br>Pop.: 69453570","Country: Iraq <br>Life Expectancy: 59.545 <br>GDP: 4471.061906 <br>Pop.: 27499638","Country: Israel <br>Life Expectancy: 80.745 <br>GDP: 25523.2771 <br>Pop.: 6426679","Country: Japan <br>Life Expectancy: 82.603 <br>GDP: 31656.06806 <br>Pop.: 127467972","Country: Jordan <br>Life Expectancy: 72.535 <br>GDP: 4519.461171 <br>Pop.: 6053193","Country: Korea, Dem. Rep. <br>Life Expectancy: 67.297 <br>GDP: 1593.06548 <br>Pop.: 23301725","Country: Korea, Rep. <br>Life Expectancy: 78.623 <br>GDP: 23348.13973 <br>Pop.: 49044790","Country: Kuwait <br>Life Expectancy: 77.588 <br>GDP: 47306.98978 <br>Pop.: 2505559","Country: Lebanon <br>Life Expectancy: 71.993 <br>GDP: 10461.05868 <br>Pop.: 3921278","Country: Malaysia <br>Life Expectancy: 74.241 <br>GDP: 12451.6558 <br>Pop.: 24821286","Country: Mongolia <br>Life Expectancy: 66.803 <br>GDP: 3095.772271 <br>Pop.: 2874127","Country: Myanmar <br>Life Expectancy: 62.069 <br>GDP: 944 <br>Pop.: 47761980","Country: Nepal <br>Life Expectancy: 63.785 <br>GDP: 1091.359778 <br>Pop.: 28901790","Country: Oman <br>Life Expectancy: 75.64 <br>GDP: 22316.19287 <br>Pop.: 3204897","Country: Pakistan <br>Life Expectancy: 65.483 <br>GDP: 2605.94758 <br>Pop.: 169270617","Country: Philippines <br>Life Expectancy: 71.688 <br>GDP: 3190.481016 <br>Pop.: 91077287","Country: Saudi Arabia <br>Life Expectancy: 72.777 <br>GDP: 21654.83194 <br>Pop.: 27601038","Country: Singapore <br>Life Expectancy: 79.972 <br>GDP: 47143.17964 <br>Pop.: 4553009","Country: Sri Lanka <br>Life Expectancy: 72.396 <br>GDP: 3970.095407 <br>Pop.: 20378239","Country: Syria <br>Life Expectancy: 74.143 <br>GDP: 4184.548089 <br>Pop.: 19314747","Country: Taiwan <br>Life Expectancy: 78.4 <br>GDP: 28718.27684 <br>Pop.: 23174294","Country: Thailand <br>Life Expectancy: 70.616 <br>GDP: 7458.396327 <br>Pop.: 65068149","Country: Vietnam <br>Life Expectancy: 74.249 <br>GDP: 2441.576404 <br>Pop.: 85262356","Country: West Bank and Gaza <br>Life Expectancy: 73.422 <br>GDP: 3025.349798 <br>Pop.: 4018332","Country: Yemen, Rep. <br>Life Expectancy: 62.698 <br>GDP: 2280.769906 <br>Pop.: 22211743"],"type":"scatter","name":"Asia","textfont":{"color":"rgba(150,95,138,1)","size":[29.158218092531492,4.3463684998244991,63.332691263870707,19.410372822791992,187.50137817012293,13.641897211716744,172.05735953138958,77.200243061250603,43.031009200183597,27.076824691452728,13.089635369762137,58.295466608856294,12.703591068691109,24.92460480070789,36.160188382861499,8.173095275129489,10.224640829775742,25.724466935285676,8.7536105722135638,35.684154076889236,27.758539693646313,9.2436029599997163,67.177684952998518,49.276435792805039,27.126699233639663,11.01751115964859,23.308674140715688,22.692312546756426,24.856358316068444,41.650332322297643,47.677437906919565,10.350400448892032,24.334675794511064]},"error_y":{"color":"rgba(150,95,138,1)","width":[]},"error_x":{"color":"rgba(150,95,138,1)","width":[]},"line":{"color":"rgba(150,95,138,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[5937.0295260000003,36126.492700000003,33692.605080000001,7446.2988029999997,10680.792820000001,14619.22272,22833.308509999999,35278.418740000001,33207.0844,30470.0167,32170.37442,27538.41188,18008.944439999999,36180.789190000003,40675.996350000001,28569.719700000001,9253.896111,36797.933319999996,49357.190170000002,15389.92468,20509.64777,10808.47561,9786.5347139999994,18678.314350000001,25768.257590000001,28821.063699999999,33859.748350000002,37506.419070000004,8458.2763840000007,33203.261279999999],"y":[76.423000000000002,79.828999999999994,79.441000000000003,74.852000000000004,73.004999999999995,75.748000000000005,76.486000000000004,78.331999999999994,79.313000000000002,80.656999999999996,79.406000000000006,79.483000000000004,73.337999999999994,81.757000000000005,78.885000000000005,80.546000000000006,74.543000000000006,79.762,80.195999999999998,75.563000000000002,78.097999999999999,72.475999999999999,74.001999999999995,74.662999999999997,77.926000000000002,80.941000000000003,80.884,81.700999999999993,71.777000000000001,79.424999999999997],"mode":"markers","marker":{"color":"rgba(255,112,112,1)","size":[9.7975398695697873,14.78547987047415,16.645181537832496,11.016529874582023,13.972513922270881,10.945044520423695,16.513738358291583,12.074058148168325,11.817784349248296,40.355030540344373,46.87059592194143,16.89482688701306,16.292174168976487,2.8371878894049312,10.466629714471022,39.373193255244992,4.2726353116207241,21.018587741252823,11.107784556252902,32.045530662974187,16.844686384695507,24.369880253037074,16.450266387702619,12.051273531211452,7.3189822316138189,32.838536676602708,15.516875720458488,14.191938980484176,43.556009677279974,40.253268647757331],"sizemode":"diameter","symbol":"circle","line":{"color":"#FFFFFF","width":2}},"text":["Country: Albania <br>Life Expectancy: 76.423 <br>GDP: 5937.029526 <br>Pop.: 3600523","Country: Austria <br>Life Expectancy: 79.829 <br>GDP: 36126.4927 <br>Pop.: 8199783","Country: Belgium <br>Life Expectancy: 79.441 <br>GDP: 33692.60508 <br>Pop.: 10392226","Country: Bosnia and Herzegovina <br>Life Expectancy: 74.852 <br>GDP: 7446.298803 <br>Pop.: 4552198","Country: Bulgaria <br>Life Expectancy: 73.005 <br>GDP: 10680.79282 <br>Pop.: 7322858","Country: Croatia <br>Life Expectancy: 75.748 <br>GDP: 14619.22272 <br>Pop.: 4493312","Country: Czech Republic <br>Life Expectancy: 76.486 <br>GDP: 22833.30851 <br>Pop.: 10228744","Country: Denmark <br>Life Expectancy: 78.332 <br>GDP: 35278.41874 <br>Pop.: 5468120","Country: Finland <br>Life Expectancy: 79.313 <br>GDP: 33207.0844 <br>Pop.: 5238460","Country: France <br>Life Expectancy: 80.657 <br>GDP: 30470.0167 <br>Pop.: 61083916","Country: Germany <br>Life Expectancy: 79.406 <br>GDP: 32170.37442 <br>Pop.: 82400996","Country: Greece <br>Life Expectancy: 79.483 <br>GDP: 27538.41188 <br>Pop.: 10706290","Country: Hungary <br>Life Expectancy: 73.338 <br>GDP: 18008.94444 <br>Pop.: 9956108","Country: Iceland <br>Life Expectancy: 81.757 <br>GDP: 36180.78919 <br>Pop.: 301931","Country: Ireland <br>Life Expectancy: 78.885 <br>GDP: 40675.99635 <br>Pop.: 4109086","Country: Italy <br>Life Expectancy: 80.546 <br>GDP: 28569.7197 <br>Pop.: 58147733","Country: Montenegro <br>Life Expectancy: 74.543 <br>GDP: 9253.896111 <br>Pop.: 684736","Country: Netherlands <br>Life Expectancy: 79.762 <br>GDP: 36797.93332 <br>Pop.: 16570613","Country: Norway <br>Life Expectancy: 80.196 <br>GDP: 49357.19017 <br>Pop.: 4627926","Country: Poland <br>Life Expectancy: 75.563 <br>GDP: 15389.92468 <br>Pop.: 38518241","Country: Portugal <br>Life Expectancy: 78.098 <br>GDP: 20509.64777 <br>Pop.: 10642836","Country: Romania <br>Life Expectancy: 72.476 <br>GDP: 10808.47561 <br>Pop.: 22276056","Country: Serbia <br>Life Expectancy: 74.002 <br>GDP: 9786.534714 <br>Pop.: 10150265","Country: Slovak Republic <br>Life Expectancy: 74.663 <br>GDP: 18678.31435 <br>Pop.: 5447502","Country: Slovenia <br>Life Expectancy: 77.926 <br>GDP: 25768.25759 <br>Pop.: 2009245","Country: Spain <br>Life Expectancy: 80.941 <br>GDP: 28821.0637 <br>Pop.: 40448191","Country: Sweden <br>Life Expectancy: 80.884 <br>GDP: 33859.74835 <br>Pop.: 9031088","Country: Switzerland <br>Life Expectancy: 81.701 <br>GDP: 37506.41907 <br>Pop.: 7554661","Country: Turkey <br>Life Expectancy: 71.777 <br>GDP: 8458.276384 <br>Pop.: 71158647","Country: United Kingdom <br>Life Expectancy: 79.425 <br>GDP: 33203.26128 <br>Pop.: 60776238"],"type":"scatter","name":"Europe","textfont":{"color":"rgba(255,112,112,1)","size":[9.7975398695697873,14.78547987047415,16.645181537832496,11.016529874582023,13.972513922270881,10.945044520423695,16.513738358291583,12.074058148168325,11.817784349248296,40.355030540344373,46.87059592194143,16.89482688701306,16.292174168976487,2.8371878894049312,10.466629714471022,39.373193255244992,4.2726353116207241,21.018587741252823,11.107784556252902,32.045530662974187,16.844686384695507,24.369880253037074,16.450266387702619,12.051273531211452,7.3189822316138189,32.838536676602708,15.516875720458488,14.191938980484176,43.556009677279974,40.253268647757331]},"error_y":{"color":"rgba(255,112,112,1)","width":[]},"error_x":{"color":"rgba(255,112,112,1)","width":[]},"line":{"color":"rgba(255,112,112,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[34435.367440000002,25185.009109999999],"y":[81.234999999999999,80.203999999999994],"mode":"markers","marker":{"color":"rgba(198,25,81,1)","size":[23.34064264905718,10.475140242695668],"sizemode":"diameter","symbol":"circle","line":{"color":"#FFFFFF","width":2}},"text":["Country: Australia <br>Life Expectancy: 81.235 <br>GDP: 34435.36744 <br>Pop.: 20434176","Country: New Zealand <br>Life Expectancy: 80.204 <br>GDP: 25185.00911 <br>Pop.: 4115771"],"type":"scatter","name":"Oceania","textfont":{"color":"rgba(198,25,81,1)","size":[23.34064264905718,10.475140242695668]},"error_y":{"color":"rgba(198,25,81,1)","width":[]},"error_x":{"color":"rgba(198,25,81,1)","width":[]},"line":{"color":"rgba(198,25,81,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

#Reference

See [https://plotly.com/r/reference/#scatter](https://plotly.com/r/reference/#scatter) for more information and chart attribute options!
### What About Dash?

[Dash for R](https://dashr.plot.ly/) is an open-source framework for building analytical applications, with no Javascript required, and it is tightly integrated with the Plotly graphing library. 

Learn about how to install Dash for R at https://dashr.plot.ly/installation.

Everywhere in this page that you see `fig`, you can display the same figure in a Dash for R application by passing it to the `figure` argument of the [`Graph` component](https://dashr.plot.ly/dash-core-components/graph) from the built-in `dashCoreComponents` package like this:


``` r
library(plotly)

fig <- plot_ly() 
# fig <- fig %>% add_trace( ... )
# fig <- fig %>% layout( ... ) 

library(dash)
library(dashCoreComponents)
library(dashHtmlComponents)

app <- Dash$new()
app$layout(
    htmlDiv(
        list(
            dccGraph(figure=fig) 
        )
     )
)

app$run_server(debug=TRUE, dev_tools_hot_reload=FALSE)
```
