---
description: How to make Filled Area Plots in ggplot2 with Plotly.
name: Filled Area
permalink: ggplot2/filled-area-plots/
thumnail_github: filled-area-plots.png
layout: base
language: ggplot2
display_as: basic
page_type: u-guide
order: 7
output:
  html_document:
    keep_md: true
---



## Basic stacked area plot

The data frame used as input to build a stacked area chart requires 3 columns:
* `x`: numeric variable used for the X axis, often it is a time.
* `y`: numeric variable used for the Y axis. What are we looking at?
* `group`: one shape will be done per group.

The chart is built using the `geom_area()` function.


``` r
library(plotly)
library(ggplot2)
library(dplyr)

time <- as.numeric(rep(seq(1,7),each=7))
value <- runif(49, 10, 100)
group <- rep(LETTERS[1:7],times=7)
data <- data.frame(time, value, group)

p <- ggplot(data, aes(x=time, y=value, fill=group)) + 
    geom_area()

ggplotly(p)
```

<div class="plotly html-widget html-fill-item" id="htmlwidget-7571e97ca558e3fb4d32" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-7571e97ca558e3fb4d32">{"x":{"data":[{"x":[0.99399999999999999,1,1.006,1.994,2,2.0059999999999998,2.9940000000000002,3,3.0059999999999998,3.9940000000000002,4,4.0060000000000002,4.9939999999999998,5,5.0060000000000002,5.9939999999999998,6,6.0060000000000002,6.9939999999999998,7,7.0060000000000002,7.0060000000000002,7,6.9939999999999998,6.0060000000000002,6,5.9939999999999998,5.0060000000000002,5,4.9939999999999998,4.0060000000000002,4,3.9940000000000002,3.0059999999999998,3,2.9940000000000002,2.0059999999999998,2,1.994,1.006,1,0.99399999999999999,0.99399999999999999],"y":[0,424.17940251762047,423.79557355031835,360.59173693457154,360.20790796726942,360.06988145217764,337.34151530039964,337.20348878530785,337.19222455539273,335.33738136270546,335.32611713279039,335.77807722735218,410.20083946519526,410.65279955975711,410.07739727089177,315.32782037107279,314.75241808220744,314.83481149669734,328.4022604160383,328.48465383052826,0,0,381.78764979587868,381.56380862881895,344.70462978631724,344.48078861925751,345.40229504685385,497.14368679104837,498.06519321864471,497.5225759952375,408.17160654086155,407.6289893174544,407.30262848694343,353.56187839613762,353.23551756562665,353.82118340951388,450.26082570294852,450.84649154683575,451.02985737670679,481.2240973621374,481.40746319200844,0,0],"text":"time: 1<br />value: 57.22806","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(248,118,109,1)","hoveron":"points","name":"A","legendgroup":"A","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.99399999999999999,1,1.006,1.994,2,2.0059999999999998,2.9940000000000002,3,3.0059999999999998,3.9940000000000002,4,4.0060000000000002,4.9939999999999998,5,5.0060000000000002,5.9939999999999998,6,6.0060000000000002,6.9939999999999998,7,7.0060000000000002,7.0060000000000002,7,6.9939999999999998,6.0060000000000002,6,5.9939999999999998,5.0060000000000002,5,4.9939999999999998,4.0060000000000002,4,3.9940000000000002,3.0059999999999998,3,2.9940000000000002,2.0059999999999998,2,1.994,1.006,1,0.99399999999999999,0.99399999999999999],"y":[0,336.9164317054674,336.74516391385345,308.54306756142529,308.37179976981133,308.46584900646468,323.95262330872004,324.04667254537344,323.92571073705795,304.00733296777588,303.8863711594604,304.16954216199929,350.79836724673396,351.08153824927285,350.33050083971114,226.6596740652202,225.90863665565848,226.43150414397942,312.53035055415705,313.05321804247797,0,0,328.48465383052826,328.4022604160383,314.83481149669734,314.75241808220744,315.32782037107279,410.07739727089177,410.65279955975711,410.20083946519526,335.77807722735218,335.32611713279039,335.33738136270546,337.19222455539273,337.20348878530785,337.34151530039964,360.06988145217764,360.20790796726942,360.59173693457154,423.79557355031835,424.17940251762047,0,0],"text":"time: 1<br />value: 87.26297","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(196,154,0,1)","hoveron":"points","name":"B","legendgroup":"B","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.99399999999999999,1,1.006,1.994,2,2.0059999999999998,2.9940000000000002,3,3.0059999999999998,3.9940000000000002,4,4.0060000000000002,4.9939999999999998,5,5.0060000000000002,5.9939999999999998,6,6.0060000000000002,6.9939999999999998,7,7.0060000000000002,7.0060000000000002,7,6.9939999999999998,6.0060000000000002,6,5.9939999999999998,5.0060000000000002,5,4.9939999999999998,4.0060000000000002,4,3.9940000000000002,3.0059999999999998,3,2.9940000000000002,2.0059999999999998,2,1.994,1.006,1,0.99399999999999999,0.99399999999999999],"y":[0,304.46460698731244,304.0292350306222,232.33798616230024,231.90261420561001,232.06307901958468,258.486285054083,258.64674986805767,258.73015960976483,272.46496374420821,272.54837348591536,272.66839345627466,292.43168190876952,292.55170187912881,291.72557282370974,155.68965503138028,154.86352597596124,155.49239459069449,259.04609315009782,259.6749617648311,0,0,313.05321804247797,312.53035055415705,226.43150414397942,225.90863665565848,226.6596740652202,350.33050083971114,351.08153824927285,350.79836724673396,304.16954216199929,303.8863711594604,304.00733296777588,323.92571073705795,324.04667254537344,323.95262330872004,308.46584900646468,308.37179976981133,308.54306756142529,336.74516391385345,336.9164317054674,0,0],"text":"time: 1<br />value: 32.45182","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(83,180,0,1)","hoveron":"points","name":"C","legendgroup":"C","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.99399999999999999,1,1.006,1.994,2,2.0059999999999998,2.9940000000000002,3,3.0059999999999998,3.9940000000000002,4,4.0060000000000002,4.9939999999999998,5,5.0060000000000002,5.9939999999999998,6,6.0060000000000002,6.9939999999999998,7,7.0060000000000002,7.0060000000000002,7,6.9939999999999998,6.0060000000000002,6,5.9939999999999998,5.0060000000000002,5,4.9939999999999998,4.0060000000000002,4,3.9940000000000002,3.0059999999999998,3,2.9940000000000002,2.0059999999999998,2,1.994,1.006,1,0.99399999999999999,0.99399999999999999],"y":[0,225.61741183279082,225.18598505448551,154.14437556020917,153.71294878190383,153.95179855355991,193.28239428626375,193.52124405791983,193.49248913342132,188.75751156600191,188.72875664150342,188.84250833842904,207.57362109884619,207.68737279577181,207.27820978991218,139.90270149169959,139.49353848583996,140.13942133965904,246.49479793519708,247.14068078901619,0,0,259.6749617648311,259.04609315009782,155.49239459069449,154.86352597596124,155.68965503138028,291.72557282370974,292.55170187912881,292.43168190876952,272.66839345627466,272.54837348591536,272.46496374420821,258.73015960976483,258.64674986805767,258.486285054083,232.06307901958468,231.90261420561001,232.33798616230024,304.0292350306222,304.46460698731244,0,0],"text":"time: 1<br />value: 78.84720","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(0,192,148,1)","hoveron":"points","name":"D","legendgroup":"D","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.99399999999999999,1,1.006,1.994,2,2.0059999999999998,2.9940000000000002,3,3.0059999999999998,3.9940000000000002,4,4.0060000000000002,4.9939999999999998,5,5.0060000000000002,5.9939999999999998,6,6.0060000000000002,6.9939999999999998,7,7.0060000000000002,7.0060000000000002,7,6.9939999999999998,6.0060000000000002,6,5.9939999999999998,5.0060000000000002,5,4.9939999999999998,4.0060000000000002,4,3.9940000000000002,3.0059999999999998,3,2.9940000000000002,2.0059999999999998,2,1.994,1.006,1,0.99399999999999999,0.99399999999999999],"y":[0,192.88298496278003,192.57597285376397,142.02131223578471,141.71430012676865,141.55776642454322,115.78188345809001,115.62534975586459,115.74009886942804,134.63545290287584,134.75020201643929,134.69018779898528,124.80784665822517,124.74783244077116,124.41123359686694,68.984623967306703,68.648025123402476,69.124516378911224,147.58674311934968,148.06323437485844,0,0,247.14068078901619,246.49479793519708,140.13942133965904,139.49353848583996,139.90270149169959,207.27820978991218,207.68737279577181,207.57362109884619,188.84250833842904,188.72875664150342,188.75751156600191,193.49248913342132,193.52124405791983,193.28239428626375,153.95179855355991,153.71294878190383,154.14437556020917,225.18598505448551,225.61741183279082,0,0],"text":"time: 1<br />value: 32.73443","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(0,182,235,1)","hoveron":"points","name":"E","legendgroup":"E","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.99399999999999999,1,1.006,1.994,2,2.0059999999999998,2.9940000000000002,3,3.0059999999999998,3.9940000000000002,4,4.0060000000000002,4.9939999999999998,5,5.0060000000000002,5.9939999999999998,6,6.0060000000000002,6.9939999999999998,7,7.0060000000000002,7.0060000000000002,7,6.9939999999999998,6.0060000000000002,6,5.9939999999999998,5.0060000000000002,5,4.9939999999999998,4.0060000000000002,4,3.9940000000000002,3.0059999999999998,3,2.9940000000000002,2.0059999999999998,2,1.994,1.006,1,0.99399999999999999,0.99399999999999999],"y":[0,97.592646079137921,97.393996677971444,64.683061952558347,64.48441255139187,64.48626387596596,64.791115322499536,64.792966647073627,64.626324513582517,37.185919865379105,37.019277731887996,37.113459081584594,52.621987998289981,52.716169347986579,52.625856510549781,37.754342612624171,37.664029775187373,38.006113252765509,94.335859227296879,94.677942704875022,0,0,148.06323437485844,147.58674311934968,69.124516378911224,68.648025123402476,68.984623967306703,124.41123359686694,124.74783244077116,124.80784665822517,134.69018779898528,134.75020201643929,134.63545290287584,115.74009886942804,115.62534975586459,115.78188345809001,141.55776642454322,141.71430012676865,142.02131223578471,192.57597285376397,192.88298496278003,0,0],"text":"time: 1<br />value: 95.29034","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(165,138,255,1)","hoveron":"points","name":"F","legendgroup":"F","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.99399999999999999,1,1.006,1.994,2,2.0059999999999998,2.9940000000000002,3,3.0059999999999998,3.9940000000000002,4,4.0060000000000002,4.9939999999999998,5,5.0060000000000002,5.9939999999999998,6,6.0060000000000002,6.9939999999999998,7,7.0060000000000002,7.0060000000000002,7.0060000000000002,7,6.9939999999999998,6.0060000000000002,6,5.9939999999999998,5.0060000000000002,5,4.9939999999999998,4.0060000000000002,4,3.9940000000000002,3.0059999999999998,3,2.9940000000000002,2.0059999999999998,2,1.994,1.006,1,0.99399999999999999,0.99399999999999999],"y":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,94.677942704875022,94.335859227296879,38.006113252765509,37.664029775187373,37.754342612624171,52.625856510549781,52.716169347986579,52.621987998289981,37.113459081584594,37.019277731887996,37.185919865379105,64.626324513582517,64.792966647073627,64.791115322499536,64.48626387596596,64.48441255139187,64.683061952558347,97.393996677971444,97.592646079137921,0,0],"text":"time: 1<br />value: 97.59265","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(251,97,215,1)","hoveron":"points","name":"G","legendgroup":"G","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.228310502283104,"r":7.3059360730593621,"b":40.182648401826491,"l":43.105022831050235},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.69340000000000002,7.3066000000000004],"tickmode":"array","ticktext":["2","4","6"],"tickvals":[2,4,6],"categoryorder":"array","categoryarray":["2","4","6"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"time","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-24.903259660932235,522.96845287957694],"tickmode":"array","ticktext":["0","100","200","300","400","500"],"tickvals":[0,100,200,300,400,500],"categoryorder":"array","categoryarray":["0","100","200","300","400","500"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"value","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"group","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"3c704b6ba4dd":{"x":{},"y":{},"fill":{},"type":"scatter"}},"cur_data":"3c704b6ba4dd","visdat":{"3c704b6ba4dd":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>




## Control stacking order

The gallery offers a post dedicated to reordering with ggplot2. This step can be tricky but the code below shows how to:

* give a specific order with the `factor()` function.
* order alphabetically using `sort()`
* order following values at a specific data


``` r
library(plotly)
library(ggplot2)
library(dplyr)

time <- as.numeric(rep(seq(1,7),each=7))
value <- runif(49, 10, 100)
group <- rep(LETTERS[1:7],times=7)
data <- data.frame(time, value, group)

data$group <- factor(data$group , levels=c("B", "A", "D", "E", "G", "F", "C") )

p <- ggplot(data, aes(x=time, y=value, fill=group)) + 
    geom_area()

ggplotly(p)
```

<div class="plotly html-widget html-fill-item" id="htmlwidget-6bfb2905ea26b5d09d2a" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-6bfb2905ea26b5d09d2a">{"x":{"data":[{"x":[0.99399999999999999,1,1.006,1.994,2,2.0059999999999998,2.9940000000000002,3,3.0059999999999998,3.9940000000000002,4,4.0060000000000002,4.9939999999999998,5,5.0060000000000002,5.9939999999999998,6,6.0060000000000002,6.9939999999999998,7,7.0060000000000002,7.0060000000000002,7,6.9939999999999998,6.0060000000000002,6,5.9939999999999998,5.0060000000000002,5,4.9939999999999998,4.0060000000000002,4,3.9940000000000002,3.0059999999999998,3,2.9940000000000002,2.0059999999999998,2,1.994,1.006,1,0.99399999999999999,0.99399999999999999],"y":[0,342.21308790380135,342.58228111904111,403.3760972285271,403.74529044376686,404.34958139420951,503.85615790043494,504.46044885087758,503.47852472292732,341.78835165377239,340.80642752582207,340.04297510451636,214.32780972951093,213.56435730820522,214.47640313508458,364.65994929454752,365.57199512142688,365.38278516400607,334.2262121753767,334.03700221795589,0,0,363.57545917620882,363.73999242441266,390.83313396197281,390.99766721017659,390.45038029410875,300.33046811494046,299.78318119887263,300.32475863122386,389.50450915838587,390.0460865907371,391.0818718062946,561.6411706347717,562.67695585032925,562.19955517923927,483.58757800641933,483.11017733532935,482.58096231756736,395.43688939275222,394.90767437499017,0,0],"text":"time: 1<br />value: 52.69459","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(248,118,109,1)","hoveron":"points","name":"B","legendgroup":"B","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.99399999999999999,1,1.006,1.994,2,2.0059999999999998,2.9940000000000002,3,3.0059999999999998,3.9940000000000002,4,4.0060000000000002,4.9939999999999998,5,5.0060000000000002,5.9939999999999998,6,6.0060000000000002,6.9939999999999998,7,7.0060000000000002,7.0060000000000002,7,6.9939999999999998,6.0060000000000002,6,5.9939999999999998,5.0060000000000002,5,4.9939999999999998,4.0060000000000002,4,3.9940000000000002,3.0059999999999998,3,2.9940000000000002,2.0059999999999998,2,1.994,1.006,1,0.99399999999999999,0.99399999999999999],"y":[0,259.62944334605709,260.08401808671653,334.9373253819719,335.39190012263134,335.97312650118488,431.68173683633563,432.26296321488917,431.50927102630033,307.40129063866101,306.64759845007211,305.87151778442313,178.07690150756858,177.30082084191963,178.31596976036209,345.47715833054849,346.49230724899098,345.87508813893885,244.2396746836929,243.62245557364076,0,0,334.03700221795589,334.2262121753767,365.38278516400607,365.57199512142688,364.65994929454752,214.47640313508458,213.56435730820522,214.32780972951093,340.04297510451636,340.80642752582207,341.78835165377239,503.47852472292732,504.46044885087758,503.85615790043494,404.34958139420951,403.74529044376686,403.3760972285271,342.58228111904111,342.21308790380135,0,0],"text":"time: 1<br />value: 82.58364","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(196,154,0,1)","hoveron":"points","name":"A","legendgroup":"A","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.99399999999999999,1,1.006,1.994,2,2.0059999999999998,2.9940000000000002,3,3.0059999999999998,3.9940000000000002,4,4.0060000000000002,4.9939999999999998,5,5.0060000000000002,5.9939999999999998,6,6.0060000000000002,6.9939999999999998,7,7.0060000000000002,7.0060000000000002,7,6.9939999999999998,6.0060000000000002,6,5.9939999999999998,5.0060000000000002,5,4.9939999999999998,4.0060000000000002,4,3.9940000000000002,3.0059999999999998,3,2.9940000000000002,2.0059999999999998,2,1.994,1.006,1,0.99399999999999999,0.99399999999999999],"y":[0,230.12235507369041,230.16574540248604,237.31068621083631,237.35407653963193,237.94712475395758,335.60239737958648,336.19544559391215,335.71189558771442,256.08732790048231,255.60377789428458,255.05203214138277,164.19789816355799,163.64615241065621,164.25446079530289,264.42257480045311,265.03088318509981,264.64996578745075,201.92556764124427,201.54465024359524,0,0,243.62245557364076,244.2396746836929,345.87508813893885,346.49230724899098,345.47715833054849,178.31596976036209,177.30082084191963,178.07690150756858,305.87151778442313,306.64759845007211,307.40129063866101,431.50927102630033,432.26296321488917,431.68173683633563,335.97312650118488,335.39190012263134,334.9373253819719,260.08401808671653,259.62944334605709,0,0],"text":"time: 1<br />value: 29.50709","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(83,180,0,1)","hoveron":"points","name":"D","legendgroup":"D","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.99399999999999999,1,1.006,1.994,2,2.0059999999999998,2.9940000000000002,3,3.0059999999999998,3.9940000000000002,4,4.0060000000000002,4.9939999999999998,5,5.0060000000000002,5.9939999999999998,6,6.0060000000000002,6.9939999999999998,7,7.0060000000000002,7.0060000000000002,7,6.9939999999999998,6.0060000000000002,6,5.9939999999999998,5.0060000000000002,5,4.9939999999999998,4.0060000000000002,4,3.9940000000000002,3.0059999999999998,3,2.9940000000000002,2.0059999999999998,2,1.994,1.006,1,0.99399999999999999,0.99399999999999999],"y":[0,166.45692181074992,166.68101737871299,203.58208756996785,203.80618313793093,204.09414692188145,251.51218334573787,251.80014712968841,251.46243932101876,195.85322016008197,195.51551235141233,195.1159894842468,129.32789069099354,128.92836782382801,129.33402765403503,196.13267969478852,196.53833952499554,196.45684336574749,183.03714247623458,182.95564631698653,0,0,201.54465024359524,201.92556764124427,264.64996578745075,265.03088318509981,264.42257480045311,164.25446079530289,163.64615241065621,164.19789816355799,255.05203214138277,255.60377789428458,256.08732790048231,335.71189558771442,336.19544559391215,335.60239737958648,237.94712475395758,237.35407653963193,237.31068621083631,230.16574540248604,230.12235507369041,0,0],"text":"time: 1<br />value: 63.66543","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(0,192,148,1)","hoveron":"points","name":"E","legendgroup":"E","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.99399999999999999,1,1.006,1.994,2,2.0059999999999998,2.9940000000000002,3,3.0059999999999998,3.9940000000000002,4,4.0060000000000002,4.9939999999999998,5,5.0060000000000002,5.9939999999999998,6,6.0060000000000002,6.9939999999999998,7,7.0060000000000002,7.0060000000000002,7,6.9939999999999998,6.0060000000000002,6,5.9939999999999998,5.0060000000000002,5,4.9939999999999998,4.0060000000000002,4,3.9940000000000002,3.0059999999999998,3,2.9940000000000002,2.0059999999999998,2,1.994,1.006,1,0.99399999999999999,0.99399999999999999],"y":[0,121.34030823828653,121.43755749567876,137.45126854626929,137.54851780366153,137.72467709962277,166.73224116791039,166.90840046387166,166.65327655020172,124.64287209921515,124.38774818554521,124.0590449289698,69.932575346222166,69.603872089646757,69.891456879852342,117.24708566703833,117.53467045724392,117.33753619232215,84.876093901870775,84.678959636949003,0,0,182.95564631698653,183.03714247623458,196.45684336574749,196.53833952499554,196.13267969478852,129.33402765403503,128.92836782382801,129.32789069099354,195.1159894842468,195.51551235141233,195.85322016008197,251.46243932101876,251.80014712968841,251.51218334573787,204.09414692188145,203.80618313793093,203.58208756996785,166.68101737871299,166.45692181074992,0,0],"text":"time: 1<br />value: 45.11661","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(0,182,235,1)","hoveron":"points","name":"G","legendgroup":"G","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.99399999999999999,1,1.006,1.994,2,2.0059999999999998,2.9940000000000002,3,3.0059999999999998,3.9940000000000002,4,4.0060000000000002,4.9939999999999998,5,5.0060000000000002,5.9939999999999998,6,6.0060000000000002,6.9939999999999998,7,7.0060000000000002,7.0060000000000002,7,6.9939999999999998,6.0060000000000002,6,5.9939999999999998,5.0060000000000002,5,4.9939999999999998,4.0060000000000002,4,3.9940000000000002,3.0059999999999998,3,2.9940000000000002,2.0059999999999998,2,1.994,1.006,1,0.99399999999999999,0.99399999999999999],"y":[0,47.585912900976837,47.839641700633798,89.620317377480688,89.874046177137643,89.837153246463274,83.762117328750904,83.725224398076534,83.798643809743226,95.88837359752506,95.961793009191751,95.582802130966428,33.175637516533037,32.79664663830772,32.825478320587429,37.573095335979012,37.601927018258721,37.581019245674831,34.138206026861447,34.117298254277557,0,0,84.678959636949003,84.876093901870775,117.33753619232215,117.53467045724392,117.24708566703833,69.891456879852342,69.603872089646757,69.932575346222166,124.0590449289698,124.38774818554521,124.64287209921515,166.65327655020172,166.90840046387166,166.73224116791039,137.72467709962277,137.54851780366153,137.45126854626929,121.43755749567876,121.34030823828653,0,0],"text":"time: 1<br />value: 73.75440","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(165,138,255,1)","hoveron":"points","name":"F","legendgroup":"F","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.99399999999999999,1,1.006,1.994,2,2.0059999999999998,2.9940000000000002,3,3.0059999999999998,3.9940000000000002,4,4.0060000000000002,4.9939999999999998,5,5.0060000000000002,5.9939999999999998,6,6.0060000000000002,6.9939999999999998,7,7.0060000000000002,7.0060000000000002,7.0060000000000002,7,6.9939999999999998,6.0060000000000002,6,5.9939999999999998,5.0060000000000002,5,4.9939999999999998,4.0060000000000002,4,3.9940000000000002,3.0059999999999998,3,2.9940000000000002,2.0059999999999998,2,1.994,1.006,1,0.99399999999999999,0.99399999999999999],"y":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,34.117298254277557,34.138206026861447,37.581019245674831,37.601927018258721,37.573095335979012,32.825478320587429,32.79664663830772,33.175637516533037,95.582802130966428,95.961793009191751,95.88837359752506,83.798643809743226,83.725224398076534,83.762117328750904,89.837153246463274,89.874046177137643,89.620317377480688,47.839641700633798,47.585912900976837,0,0],"text":"time: 1<br />value: 47.58591","type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"transparent","dash":"solid"},"fill":"toself","fillcolor":"rgba(251,97,215,1)","hoveron":"points","name":"C","legendgroup":"C","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.228310502283104,"r":7.3059360730593621,"b":40.182648401826491,"l":43.105022831050235},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.69340000000000002,7.3066000000000004],"tickmode":"array","ticktext":["2","4","6"],"tickvals":[2,4,6],"categoryorder":"array","categoryarray":["2","4","6"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"time","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-28.133847792516463,590.81080364284571],"tickmode":"array","ticktext":["0","200","400"],"tickvals":[0,200,399.99999999999994],"categoryorder":"array","categoryarray":["0","200","400"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"value","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"group","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"3c7079f98e8":{"x":{},"y":{},"fill":{},"type":"scatter"}},"cur_data":"3c7079f98e8","visdat":{"3c7079f98e8":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>



## Proportional stack
In a proportional stacked area graph, the sum of each year is always equal to hundred and value of each group is represented through percentages.


``` r
library(plotly)
library(ggplot2)
library(dplyr)
data <- data  %>%
  group_by(time, group) %>%
  summarise(n = sum(value)) %>%
  mutate(percentage = n / sum(n))

p <- ggplot(data, aes(x=time, y=percentage, fill=group)) + 
    geom_area(alpha=0.6 , size=1, colour="black")

ggplotly(p)
```

<div class="plotly html-widget html-fill-item" id="htmlwidget-06b79d83bf7969dfb4cc" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-06b79d83bf7969dfb4cc">{"x":{"data":[{"x":[0.99399999999999999,1,1.006,1.994,2,2.0059999999999998,2.9940000000000002,3,3.0059999999999998,3.9940000000000002,4,4.0060000000000002,4.9939999999999998,5,5.0060000000000002,5.9939999999999998,6,6.0060000000000002,6.9939999999999998,7,7.0060000000000002,7.0060000000000002,7,6.9939999999999998,6.0060000000000002,6,5.9939999999999998,5.0060000000000002,5,4.9939999999999998,4.0060000000000002,4,3.9940000000000002,3.0059999999999998,3,2.9940000000000002,2.0059999999999998,2,1.994,1.006,1,0.99399999999999999,0.99399999999999999],"y":[0,0.86656479503826533,0.86637973189459172,0.83590600090302258,0.83572093775934908,0.83608583134842829,0.89617164235013713,0.89653653593921634,0.89639987301488544,0.87389604480839878,0.87375938188406788,0.87279120195612314,0.71336424048789038,0.71239606055994564,0.71373151810270363,0.9336368601435201,0.93497231768627809,0.93487501759597114,0.91885293605874852,0.91875563596844156,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0],"text":"time: 1<br />percentage: 0.13343520","type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(0,0,0,0.6)","dash":"solid"},"fill":"toself","fillcolor":"rgba(248,118,109,0.6)","hoveron":"points","name":"B","legendgroup":"B","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.99399999999999999,1,1.006,1.994,2,2.0059999999999998,2.9940000000000002,3,3.0059999999999998,3.9940000000000002,4,4.0060000000000002,4.9939999999999998,5,5.0060000000000002,5.9939999999999998,6,6.0060000000000002,6.9939999999999998,7,7.0060000000000002,7.0060000000000002,7,6.9939999999999998,6.0060000000000002,6,5.9939999999999998,5.0060000000000002,5,4.9939999999999998,4.0060000000000002,4,3.9940000000000002,3.0059999999999998,3,2.9940000000000002,2.0059999999999998,2,1.994,1.006,1,0.99399999999999999,0.99399999999999999],"y":[0,0.65744339802199514,0.65766414646841764,0.6940140573126663,0.69423480575908891,0.69467875181693417,0.76778186934211945,0.76822581539996482,0.76833355844535545,0.7860752465863643,0.78618298963175504,0.7850144727744548,0.59259869693901857,0.59143018008171833,0.59319864822642565,0.88440640272156246,0.88617487086626978,0.8848782655311902,0.67137058702141739,0.67007398168633769,0,0,0.91875563596844156,0.91885293605874852,0.93487501759597114,0.93497231768627809,0.9336368601435201,0.71373151810270363,0.71239606055994564,0.71336424048789038,0.87279120195612314,0.87375938188406788,0.87389604480839878,0.89639987301488544,0.89653653593921634,0.89617164235013713,0.83608583134842829,0.83572093775934908,0.83590600090302258,0.86637973189459172,0.86656479503826533,0,0],"text":"time: 1<br />percentage: 0.20912140","type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(0,0,0,0.6)","dash":"solid"},"fill":"toself","fillcolor":"rgba(196,154,0,0.6)","hoveron":"points","name":"A","legendgroup":"A","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.99399999999999999,1,1.006,1.994,2,2.0059999999999998,2.9940000000000002,3,3.0059999999999998,3.9940000000000002,4,4.0060000000000002,4.9939999999999998,5,5.0060000000000002,5.9939999999999998,6,6.0060000000000002,6.9939999999999998,7,7.0060000000000002,7.0060000000000002,7,6.9939999999999998,6.0060000000000002,6,5.9939999999999998,5.0060000000000002,5,4.9939999999999998,4.0060000000000002,4,3.9940000000000002,3.0059999999999998,3,2.9940000000000002,2.0059999999999998,2,1.994,1.006,1,0.99399999999999999,0.99399999999999999],"y":[0,0.58272444423345005,0.58217592298355347,0.49185275716725174,0.49130423591735517,0.49194136746977069,0.596855696434198,0.59749282798661363,0.59783977219675877,0.6549699188006648,0.65531686301080994,0.6546602520292707,0.54653831040247935,0.54588169942094011,0.54667340356342631,0.67704068569281006,0.67783238983529615,0.67709143929528426,0.55508158370666227,0.55434063316665039,0,0,0.67007398168633769,0.67137058702141739,0.8848782655311902,0.88617487086626978,0.88440640272156246,0.59319864822642565,0.59143018008171833,0.59259869693901857,0.7850144727744548,0.78618298963175504,0.7860752465863643,0.76833355844535545,0.76822581539996482,0.76778186934211945,0.69467875181693417,0.69423480575908891,0.6940140573126663,0.65766414646841764,0.65744339802199514,0,0],"text":"time: 1<br />percentage: 0.07471895","type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(0,0,0,0.6)","dash":"solid"},"fill":"toself","fillcolor":"rgba(83,180,0,0.6)","hoveron":"points","name":"D","legendgroup":"D","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.99399999999999999,1,1.006,1.994,2,2.0059999999999998,2.9940000000000002,3,3.0059999999999998,3.9940000000000002,4,4.0060000000000002,4.9939999999999998,5,5.0060000000000002,5.9939999999999998,6,6.0060000000000002,6.9939999999999998,7,7.0060000000000002,7.0060000000000002,7,6.9939999999999998,6.0060000000000002,6,5.9939999999999998,5.0060000000000002,5,4.9939999999999998,4.0060000000000002,4,3.9940000000000002,3.0059999999999998,3,2.9940000000000002,2.0059999999999998,2,1.994,1.006,1,0.99399999999999999,0.99399999999999999],"y":[0,0.42150845023256855,0.4215105759712397,0.42186061427242982,0.42186274001110097,0.42201658713041401,0.44735007944395405,0.4475039265632671,0.44782647855569491,0.50094003997548109,0.5012625919679089,0.50083544872671126,0.43049919500950035,0.43007205176830271,0.4305075710503557,0.50222307949508105,0.50265859877713404,0.50266192103862295,0.50320898676379133,0.50321230902528025,0,0,0.55434063316665039,0.55508158370666227,0.67709143929528426,0.67783238983529615,0.67704068569281006,0.54667340356342631,0.54588169942094011,0.54653831040247935,0.6546602520292707,0.65531686301080994,0.6549699188006648,0.59783977219675877,0.59749282798661363,0.596855696434198,0.49194136746977069,0.49130423591735517,0.49185275716725174,0.58217592298355347,0.58272444423345005,0,0],"text":"time: 1<br />percentage: 0.16121599","type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(0,0,0,0.6)","dash":"solid"},"fill":"toself","fillcolor":"rgba(0,192,148,0.6)","hoveron":"points","name":"E","legendgroup":"E","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.99399999999999999,1,1.006,1.994,2,2.0059999999999998,2.9940000000000002,3,3.0059999999999998,3.9940000000000002,4,4.0060000000000002,4.9939999999999998,5,5.0060000000000002,5.9939999999999998,6,6.0060000000000002,6.9939999999999998,7,7.0060000000000002,7.0060000000000002,7,6.9939999999999998,6.0060000000000002,6,5.9939999999999998,5.0060000000000002,5,4.9939999999999998,4.0060000000000002,4,3.9940000000000002,3.0059999999999998,3,2.9940000000000002,2.0059999999999998,2,1.994,1.006,1,0.99399999999999999,0.99399999999999999],"y":[0,0.30726247199507728,0.30712718472470196,0.28484988086956664,0.28471459359919127,0.2847861024063133,0.29656121931240115,0.29663272811952313,0.29676636330356598,0.31877162360928868,0.31890525879333148,0.31838491150523152,0.23270105806477415,0.23218071077667418,0.23259123835393442,0.30019144607611309,0.30060197365337327,0.30019579869834545,0.23331232277043601,0.23290614781540819,0,0,0.50321230902528025,0.50320898676379133,0.50266192103862295,0.50265859877713404,0.50222307949508105,0.4305075710503557,0.43007205176830271,0.43049919500950035,0.50083544872671126,0.5012625919679089,0.50094003997548109,0.44782647855569491,0.4475039265632671,0.44735007944395405,0.42201658713041401,0.42186274001110097,0.42186061427242982,0.4215105759712397,0.42150845023256855,0,0],"text":"time: 1<br />percentage: 0.11424598","type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(0,0,0,0.6)","dash":"solid"},"fill":"toself","fillcolor":"rgba(0,182,235,0.6)","hoveron":"points","name":"G","legendgroup":"G","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.99399999999999999,1,1.006,1.994,2,2.0059999999999998,2.9940000000000002,3,3.0059999999999998,3.9940000000000002,4,4.0060000000000002,4.9939999999999998,5,5.0060000000000002,5.9939999999999998,6,6.0060000000000002,6.9939999999999998,7,7.0060000000000002,7.0060000000000002,7,6.9939999999999998,6.0060000000000002,6,5.9939999999999998,5.0060000000000002,5,4.9939999999999998,4.0060000000000002,4,3.9940000000000002,3.0059999999999998,3,2.9940000000000002,2.0059999999999998,2,1.994,1.006,1,0.99399999999999999,0.99399999999999999],"y":[0,0.12049883045775139,0.12089203063830588,0.18563899370294468,0.18603219388349915,0.18580878891983094,0.14902143823579539,0.14879803327212718,0.1493814059105322,0.2454434337012299,0.24602680633963492,0.24520705283920322,0.11022097643478576,0.10940122293435406,0.10932183070714314,0.096248577293080395,0.096169185065869481,0.096155199676978248,0.093852272306222534,0.093838286917331301,0,0,0.23290614781540819,0.23331232277043601,0.30019579869834545,0.30060197365337327,0.30019144607611309,0.23259123835393442,0.23218071077667418,0.23270105806477415,0.31838491150523152,0.31890525879333148,0.31877162360928868,0.29676636330356598,0.29663272811952313,0.29656121931240115,0.2847861024063133,0.28471459359919127,0.28484988086956664,0.30712718472470196,0.30726247199507728,0,0],"text":"time: 1<br />percentage: 0.18676364","type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(0,0,0,0.6)","dash":"solid"},"fill":"toself","fillcolor":"rgba(165,138,255,0.6)","hoveron":"points","name":"F","legendgroup":"F","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[0.99399999999999999,1,1.006,1.994,2,2.0059999999999998,2.9940000000000002,3,3.0059999999999998,3.9940000000000002,4,4.0060000000000002,4.9939999999999998,5,5.0060000000000002,5.9939999999999998,6,6.0060000000000002,6.9939999999999998,7,7.0060000000000002,7.0060000000000002,7.0060000000000002,7,6.9939999999999998,6.0060000000000002,6,5.9939999999999998,5.0060000000000002,5,4.9939999999999998,4.0060000000000002,4,3.9940000000000002,3.0059999999999998,3,2.9940000000000002,2.0059999999999998,2,1.994,1.006,1,0.99399999999999999,0.99399999999999999],"y":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0.093838286917331301,0.093852272306222534,0.096155199676978248,0.096169185065869481,0.096248577293080395,0.10932183070714314,0.10940122293435406,0.11022097643478576,0.24520705283920322,0.24602680633963492,0.2454434337012299,0.1493814059105322,0.14879803327212718,0.14902143823579539,0.18580878891983094,0.18603219388349915,0.18563899370294468,0.12089203063830588,0.12049883045775139,0,0],"text":"time: 1<br />percentage: 0.12049883","type":"scatter","mode":"lines","line":{"width":3.7795275590551185,"color":"rgba(0,0,0,0.6)","dash":"solid"},"fill":"toself","fillcolor":"rgba(251,97,215,0.6)","hoveron":"points","name":"C","legendgroup":"C","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":26.228310502283104,"r":7.3059360730593621,"b":40.182648401826491,"l":48.949771689497723},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.69340000000000002,7.3066000000000004],"tickmode":"array","ticktext":["2","4","6"],"tickvals":[2,4,6],"categoryorder":"array","categoryarray":["2","4","6"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"time","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.050000000000000003,1.05],"tickmode":"array","ticktext":["0.00","0.25","0.50","0.75","1.00"],"tickvals":[0,0.25,0.5,0.75,1],"categoryorder":"array","categoryarray":["0.00","0.25","0.50","0.75","1.00"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"percentage","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"group","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"3c70329f2004":{"x":{},"y":{},"fill":{},"type":"scatter"}},"cur_data":"3c70329f2004","visdat":{"3c70329f2004":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>



### What About Dash?

[Dash for R](https://dashr.plot.ly/) is an open-source framework for building analytical applications, with no Javascript required, and it is tightly integrated with the Plotly graphing library. 

Learn about how to install Dash for R at https://dashr.plot.ly/installation.

Everywhere in this page that you see `fig`, you can display the same figure in a Dash for R application by passing it to the `figure` argument of the [`Graph` component](https://dashr.plot.ly/dash-core-components/graph) from the built-in `dashCoreComponents` package like this:


``` r
library(plotly)

fig <- plot_ly() 
# fig <- fig %>% add_trace( ... )
# fig <- fig %>% layout( ... ) 

library(dash)
library(dashCoreComponents)
library(dashHtmlComponents)

app <- Dash$new()
app$layout(
    htmlDiv(
        list(
            dccGraph(figure=fig) 
        )
     )
)

app$run_server(debug=TRUE, dev_tools_hot_reload=FALSE)
```
