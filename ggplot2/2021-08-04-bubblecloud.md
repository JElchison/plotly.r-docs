---
name: Bubblecloud Plots
permalink: ggplot2/bubblecloud/
description: How to make a Bubblecloud Plots using ggplotly with Plotly.
layout: base
thumnail_github: bubblecloud.png
language: ggplot2
page_type: u-guide
display_as: basic
order: 21
output:
  html_document:
    keep_md: true
---


### Basic Text Graph
Sources: [International IDEA](https://www.idea.int/data-tools/continent-view/Europe/40?st=par#rep) for national turnout and [European Parliament](https://election-results.eu/turnout/) for European turnout, while regional classifications are based on [EuroVoc](https://publications.europa.eu/en/web/eu-vocabularies/th-concept-scheme/-/resource/eurovoc/100277?target=Browse).


``` r
recent_turnout <- read.csv("https://raw.githubusercontent.com/plotly/datasets/master/european_turnout.csv",stringsAsFactors = FALSE)
recent_turnout$region <- factor(recent_turnout$region, levels=c("British","Northern","Western","Mediterranean","Central/Eastern"))

library(plotly)
p <- recent_turnout %>%
  ggplot(aes(x=nat_turnout,y=euro_turnout)) + 
  geom_text(aes(size=population/3.5, label=abbreviation, colour=region), alpha=1) +
  labs(title = "Recent turnout in European Union countries",
       x = "Latest legislative or presidential election (whichever had higher turnout)",
       y = "May 2019 European Parliament election")
fig <- ggplotly(p)

fig
```

<div class="plotly html-widget html-fill-item" id="htmlwidget-7716b7beadc518a01c4a" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-7716b7beadc518a01c4a">{"x":{"data":[{"x":[65.090000000000003,68.930000000000007],"y":[49.700000000000003,36.899999999999999],"text":["IE","UK"],"hovertext":["nat_turnout: 65.09<br />euro_turnout: 49.70<br />population/3.5:  1414992.3<br />abbreviation: IE<br />region: British","nat_turnout: 68.93<br />euro_turnout: 36.90<br />population/3.5: 18505557.7<br />abbreviation: UK<br />region: British"],"textfont":{"size":[8.2744661855714234,20.70986305164017],"color":"rgba(248,118,109,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"British","legendgroup":"British","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[84.599999999999994,68.730000000000004,87.180000000000007],"y":[66,40.700000000000003,55.270000000000003],"text":["DK","FI","SV"],"hovertext":["nat_turnout: 84.60<br />euro_turnout: 66.00<br />population/3.5:  1669006.3<br />abbreviation: DK<br />region: Northern","nat_turnout: 68.73<br />euro_turnout: 40.70<br />population/3.5:  1587186.9<br />abbreviation: FI<br />region: Northern","nat_turnout: 87.18<br />euro_turnout: 55.27<br />population/3.5:  2868855.7<br />abbreviation: SV<br />region: Northern"],"textfont":{"size":[8.6952575129499525,8.5637604732124917,10.326995963200078],"color":"rgba(163,165,0,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Northern","legendgroup":"Northern","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[80,88.379999999999995,74.560000000000002,76.150000000000006,89.659999999999997,81.930000000000007],"y":[59.799999999999997,88.469999999999999,50.119999999999997,61.380000000000003,84.239999999999995,41.93],"text":["AT","BE","FR","DE","LU","NL"],"hovertext":["nat_turnout: 80.00<br />euro_turnout: 59.80<br />population/3.5:  2501260.9<br />abbreviation: AT<br />region: Western","nat_turnout: 88.38<br />euro_turnout: 88.47<br />population/3.5:  3327786.6<br />abbreviation: BE<br />region: Western","nat_turnout: 74.56<br />euro_turnout: 50.12<br />population/3.5: 19173188.9<br />abbreviation: FR<br />region: Western","nat_turnout: 76.15<br />euro_turnout: 61.38<br />population/3.5: 23026862.0<br />abbreviation: DE<br />region: Western","nat_turnout: 89.66<br />euro_turnout: 84.24<br />population/3.5:   173075.4<br />abbreviation: LU<br />region: Western","nat_turnout: 81.93<br />euro_turnout: 41.93<br />population/3.5:  4881348.3<br />abbreviation: NL<br />region: Western"],"textfont":{"size":[9.8736851323762416,10.852278267906364,21.014498802136004,22.677165354330711,4.6980728500002398,12.395960059033939],"color":"rgba(0,191,125,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Western","legendgroup":"Western","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[73.969999999999999,57.920000000000002,72.930000000000007,92.060000000000002,55.840000000000003,71.760000000000005],"y":[44.990000000000002,58.689999999999998,54.5,72.700000000000003,30.75,60.729999999999997],"text":["CY","GR","IT","MT","PT","ES"],"hovertext":["nat_turnout: 73.97<br />euro_turnout: 44.99<br />population/3.5:   353453.7<br />abbreviation: CY<br />region: Mediterranean","nat_turnout: 57.92<br />euro_turnout: 58.69<br />population/3.5:  3072178.9<br />abbreviation: GR<br />region: Mediterranean","nat_turnout: 72.93<br />euro_turnout: 54.50<br />population/3.5: 17784764.0<br />abbreviation: IT<br />region: Mediterranean","nat_turnout: 92.06<br />euro_turnout: 72.70<br />population/3.5:   118953.7<br />abbreviation: MT<br />region: Mediterranean","nat_turnout: 55.84<br />euro_turnout: 30.75<br />population/3.5:  3092945.4<br />abbreviation: PT<br />region: Mediterranean","nat_turnout: 71.76<br />euro_turnout: 60.73<br />population/3.5: 14195215.4<br />abbreviation: ES<br />region: Mediterranean"],"textfont":{"size":[5.6915202442055524,10.564734247495428,20.374692910757794,3.7795275590551185,10.588548659515592,18.593054421317028],"color":"rgba(0,176,246,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Mediterranean","legendgroup":"Mediterranean","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[56.280000000000001,59.049999999999997,61.880000000000003,63.670000000000002,69.670000000000002,54.579999999999998,57.369999999999997,55.340000000000003,64.109999999999999,59.82,52.640000000000001],"y":[32.640000000000001,29.859999999999999,28.719999999999999,37.600000000000001,43.359999999999999,33.530000000000001,53.479999999999997,45.68,51.07,22.739999999999998,28.890000000000001],"text":["BU","HR","CZ","EE","HU","LV","LT","PO","RO","SK","SI"],"hovertext":["nat_turnout: 56.28<br />euro_turnout: 32.64<br />population/3.5:  2041329.4<br />abbreviation: BU<br />region: Central/Eastern","nat_turnout: 59.05<br />euro_turnout: 29.86<br />population/3.5:  1277295.4<br />abbreviation: HR<br />region: Central/Eastern","nat_turnout: 61.88<br />euro_turnout: 28.72<br />population/3.5:  3053219.7<br />abbreviation: CZ<br />region: Central/Eastern","nat_turnout: 63.67<br />euro_turnout: 37.60<br />population/3.5:   353326.0<br />abbreviation: EE<br />region: Central/Eastern","nat_turnout: 69.67<br />euro_turnout: 43.36<br />population/3.5:  2807344.0<br />abbreviation: HU<br />region: Central/Eastern","nat_turnout: 54.58<br />euro_turnout: 33.53<br />population/3.5:   549588.3<br />abbreviation: LV<br />region: Central/Eastern","nat_turnout: 57.37<br />euro_turnout: 53.48<br />population/3.5:   789281.4<br />abbreviation: LT<br />region: Central/Eastern","nat_turnout: 55.34<br />euro_turnout: 45.68<br />population/3.5: 10943395.7<br />abbreviation: PO<br />region: Central/Eastern","nat_turnout: 64.11<br />euro_turnout: 51.07<br />population/3.5:  6208534.6<br />abbreviation: RO<br />region: Central/Eastern","nat_turnout: 59.82<br />euro_turnout: 22.74<br />population/3.5:  1555943.4<br />abbreviation: SK<br />region: Central/Eastern","nat_turnout: 52.64<br />euro_turnout: 28.89<br />population/3.5:   561630.3<br />abbreviation: SI<br />region: Central/Eastern"],"textfont":{"size":[9.2538949313261867,8.0289817424408891,10.542919311976501,5.690999514915811,10.253352651788237,6.3705385125721028,7.0121753606010921,16.769779130209521,13.522882047600524,8.5125834473050563,6.4065154548750556],"color":"rgba(231,107,243,1)"},"type":"scatter","mode":"text","hoveron":"points","name":"Central/Eastern","legendgroup":"Central/Eastern","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826491,"l":37.260273972602747},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Recent turnout in European Union countries","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[50.668999999999997,94.031000000000006],"tickmode":"array","ticktext":["60","70","80","90"],"tickvals":[60,70,80,90],"categoryorder":"array","categoryarray":["60","70","80","90"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Latest legislative or presidential election (whichever had higher turnout)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[19.453499999999998,91.756500000000003],"tickmode":"array","ticktext":["20","40","60","80"],"tickvals":[20,40,60,80],"categoryorder":"array","categoryarray":["20","40","60","80"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"May 2019 European Parliament election","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"population/3.5<br />region","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"35bcb82571a":{"x":{},"y":{},"size":{},"label":{},"colour":{},"type":"scatter"}},"cur_data":"35bcb82571a","visdat":{"35bcb82571a":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

### Overlaid Points
Colour-coding the text itself might present readability issues. Another possible use of geom\_text is to keep the text grey, but overlay it on a coloured point graph.

Adding the *text* option within aes() allows us to control the text that appears when hovering over a point.


``` r
recent_turnout <- read.csv("https://raw.githubusercontent.com/plotly/datasets/master/european_turnout.csv",stringsAsFactors = FALSE)
recent_turnout$region <- factor(recent_turnout$region, levels=c("British","Northern","Western","Mediterranean","Central/Eastern"))

library(plotly)
p <- recent_turnout %>%
  ggplot(aes(x=nat_turnout,y=euro_turnout)) + 
  geom_point(aes(size=population, colour=region, text=paste("country:", country)), alpha=0.4) +
  geom_text(aes(size=population/3.5, label=abbreviation), colour="gray20", alpha=1) +
  labs(title = "Recent turnout in European Union countries",
       x = "Latest legislative or presidential election (whichever had higher turnout)",
       y = "May 2019 European Parliament election")
fig <- ggplotly(p)

fig
```

<div class="plotly html-widget html-fill-item" id="htmlwidget-62834214bfbc48c7d0e7" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-62834214bfbc48c7d0e7">{"x":{"data":[{"x":[65.090000000000003,68.930000000000007],"y":[49.700000000000003,36.899999999999999],"text":["nat_turnout: 65.09<br />euro_turnout: 49.70<br />population:  4952473<br />region: British<br />country: Ireland","nat_turnout: 68.93<br />euro_turnout: 36.90<br />population: 64769452<br />region: British<br />country: United Kingdom"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(248,118,109,1)","opacity":0.40000000000000002,"size":[8.4108880364527607,20.717553574091326],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(248,118,109,1)"}},"hoveron":"points","name":"British","legendgroup":"British","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[84.599999999999994,68.730000000000004,87.180000000000007],"y":[66,40.700000000000003,55.270000000000003],"text":["nat_turnout: 84.60<br />euro_turnout: 66.00<br />population:  5841522<br />region: Northern<br />country: Denmark","nat_turnout: 68.73<br />euro_turnout: 40.70<br />population:  5555154<br />region: Northern<br />country: Finland","nat_turnout: 87.18<br />euro_turnout: 55.27<br />population: 10040995<br />region: Northern<br />country: Sweden"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(163,165,0,1)","opacity":0.40000000000000002,"size":[8.8188523390957734,8.691145553933568,10.415084376681071],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(163,165,0,1)"}},"hoveron":"points","name":"Northern","legendgroup":"Northern","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[80,88.379999999999995,74.560000000000002,76.150000000000006,89.659999999999997,81.930000000000007],"y":[59.799999999999997,88.469999999999999,50.119999999999997,61.380000000000003,84.239999999999995,41.93],"text":["nat_turnout: 80.00<br />euro_turnout: 59.80<br />population:  8754413<br />region: Western<br />country: Austria","nat_turnout: 88.38<br />euro_turnout: 88.47<br />population: 11647253<br />region: Western<br />country: Belgium","nat_turnout: 74.56<br />euro_turnout: 50.12<br />population: 67106161<br />region: Western<br />country: France","nat_turnout: 76.15<br />euro_turnout: 61.38<br />population: 80594017<br />region: Western<br />country: Germany","nat_turnout: 89.66<br />euro_turnout: 84.24<br />population:   605764<br />region: Western<br />country: Luxembourg","nat_turnout: 81.93<br />euro_turnout: 41.93<br />population: 17084719<br />region: Western<br />country: Netherlands"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,191,125,1)","opacity":0.40000000000000002,"size":[9.9699398942858615,10.932054110178298,21.020938114453891,22.677165354330711,5.2493224390829294,12.456407424408837],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,191,125,1)"}},"hoveron":"points","name":"Western","legendgroup":"Western","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[73.969999999999999,57.920000000000002,72.930000000000007,92.060000000000002,55.840000000000003,71.760000000000005],"y":[44.990000000000002,58.689999999999998,54.5,72.700000000000003,30.75,60.729999999999997],"text":["nat_turnout: 73.97<br />euro_turnout: 44.99<br />population:  1237088<br />region: Mediterranean<br />country: Cyprus","nat_turnout: 57.92<br />euro_turnout: 58.69<br />population: 10752626<br />region: Mediterranean<br />country: Greece","nat_turnout: 72.93<br />euro_turnout: 54.50<br />population: 62246674<br />region: Mediterranean<br />country: Italy","nat_turnout: 92.06<br />euro_turnout: 72.70<br />population:   416338<br />region: Mediterranean<br />country: Malta","nat_turnout: 55.84<br />euro_turnout: 30.75<br />population: 10825309<br />region: Mediterranean<br />country: Portugal","nat_turnout: 71.76<br />euro_turnout: 60.73<br />population: 49683254<br />region: Mediterranean<br />country: Spain"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,176,246,1)","opacity":0.40000000000000002,"size":[6.0070589841876556,10.648922615942803,20.383789128409944,4.9283049120091862,10.672359390673678,18.610217215686681],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,176,246,1)"}},"hoveron":"points","name":"Mediterranean","legendgroup":"Mediterranean","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[56.280000000000001,59.049999999999997,61.880000000000003,63.670000000000002,69.670000000000002,54.579999999999998,57.369999999999997,55.340000000000003,64.109999999999999,59.82,52.640000000000001],"y":[32.640000000000001,29.859999999999999,28.719999999999999,37.600000000000001,43.359999999999999,33.530000000000001,53.479999999999997,45.68,51.07,22.739999999999998,28.890000000000001],"text":["nat_turnout: 56.28<br />euro_turnout: 32.64<br />population:  7144653<br />region: Central/Eastern<br />country: Bulgaria","nat_turnout: 59.05<br />euro_turnout: 29.86<br />population:  4470534<br />region: Central/Eastern<br />country: Croatia","nat_turnout: 61.88<br />euro_turnout: 28.72<br />population: 10686269<br />region: Central/Eastern<br />country: Czechia","nat_turnout: 63.67<br />euro_turnout: 37.60<br />population:  1236641<br />region: Central/Eastern<br />country: Estonia","nat_turnout: 69.67<br />euro_turnout: 43.36<br />population:  9825704<br />region: Central/Eastern<br />country: Hungary","nat_turnout: 54.58<br />euro_turnout: 33.53<br />population:  1923559<br />region: Central/Eastern<br />country: Latvia","nat_turnout: 57.37<br />euro_turnout: 53.48<br />population:  2762485<br />region: Central/Eastern<br />country: Lithuania","nat_turnout: 55.34<br />euro_turnout: 45.68<br />population: 38301885<br />region: Central/Eastern<br />country: Poland","nat_turnout: 64.11<br />euro_turnout: 51.07<br />population: 21729871<br />region: Central/Eastern<br />country: Romania","nat_turnout: 59.82<br />euro_turnout: 22.74<br />population:  5445802<br />region: Central/Eastern<br />country: Slovakia","nat_turnout: 52.64<br />euro_turnout: 28.89<br />population:  1965706<br />region: Central/Eastern<br />country: Slovenia"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(231,107,243,1)","opacity":0.40000000000000002,"size":[9.3632218935775757,8.1739353663217891,10.627455629159167,6.0066136861166521,10.34269955918861,6.6094072334863023,7.2045946628642135,16.796545105818385,13.572475771793046,8.64149472039324,6.6422627710816116],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(231,107,243,1)"}},"hoveron":"points","name":"Central/Eastern","legendgroup":"Central/Eastern","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[80,88.379999999999995,56.280000000000001,59.049999999999997,73.969999999999999,61.880000000000003,84.599999999999994,63.670000000000002,68.730000000000004,74.560000000000002,76.150000000000006,57.920000000000002,69.670000000000002,65.090000000000003,72.930000000000007,54.579999999999998,57.369999999999997,89.659999999999997,92.060000000000002,81.930000000000007,55.340000000000003,55.840000000000003,64.109999999999999,59.82,52.640000000000001,71.760000000000005,87.180000000000007,68.930000000000007],"y":[59.799999999999997,88.469999999999999,32.640000000000001,29.859999999999999,44.990000000000002,28.719999999999999,66,37.600000000000001,40.700000000000003,50.119999999999997,61.380000000000003,58.689999999999998,43.359999999999999,49.700000000000003,54.5,33.530000000000001,53.479999999999997,84.239999999999995,72.700000000000003,41.93,45.68,30.75,51.07,22.739999999999998,28.890000000000001,60.729999999999997,55.270000000000003,36.899999999999999],"text":["AT","BE","BU","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PO","PT","RO","SK","SI","ES","SV","UK"],"hovertext":["nat_turnout: 80.00<br />euro_turnout: 59.80<br />population/3.5:  2501260.9<br />abbreviation: AT","nat_turnout: 88.38<br />euro_turnout: 88.47<br />population/3.5:  3327786.6<br />abbreviation: BE","nat_turnout: 56.28<br />euro_turnout: 32.64<br />population/3.5:  2041329.4<br />abbreviation: BU","nat_turnout: 59.05<br />euro_turnout: 29.86<br />population/3.5:  1277295.4<br />abbreviation: HR","nat_turnout: 73.97<br />euro_turnout: 44.99<br />population/3.5:   353453.7<br />abbreviation: CY","nat_turnout: 61.88<br />euro_turnout: 28.72<br />population/3.5:  3053219.7<br />abbreviation: CZ","nat_turnout: 84.60<br />euro_turnout: 66.00<br />population/3.5:  1669006.3<br />abbreviation: DK","nat_turnout: 63.67<br />euro_turnout: 37.60<br />population/3.5:   353326.0<br />abbreviation: EE","nat_turnout: 68.73<br />euro_turnout: 40.70<br />population/3.5:  1587186.9<br />abbreviation: FI","nat_turnout: 74.56<br />euro_turnout: 50.12<br />population/3.5: 19173188.9<br />abbreviation: FR","nat_turnout: 76.15<br />euro_turnout: 61.38<br />population/3.5: 23026862.0<br />abbreviation: DE","nat_turnout: 57.92<br />euro_turnout: 58.69<br />population/3.5:  3072178.9<br />abbreviation: GR","nat_turnout: 69.67<br />euro_turnout: 43.36<br />population/3.5:  2807344.0<br />abbreviation: HU","nat_turnout: 65.09<br />euro_turnout: 49.70<br />population/3.5:  1414992.3<br />abbreviation: IE","nat_turnout: 72.93<br />euro_turnout: 54.50<br />population/3.5: 17784764.0<br />abbreviation: IT","nat_turnout: 54.58<br />euro_turnout: 33.53<br />population/3.5:   549588.3<br />abbreviation: LV","nat_turnout: 57.37<br />euro_turnout: 53.48<br />population/3.5:   789281.4<br />abbreviation: LT","nat_turnout: 89.66<br />euro_turnout: 84.24<br />population/3.5:   173075.4<br />abbreviation: LU","nat_turnout: 92.06<br />euro_turnout: 72.70<br />population/3.5:   118953.7<br />abbreviation: MT","nat_turnout: 81.93<br />euro_turnout: 41.93<br />population/3.5:  4881348.3<br />abbreviation: NL","nat_turnout: 55.34<br />euro_turnout: 45.68<br />population/3.5: 10943395.7<br />abbreviation: PO","nat_turnout: 55.84<br />euro_turnout: 30.75<br />population/3.5:  3092945.4<br />abbreviation: PT","nat_turnout: 64.11<br />euro_turnout: 51.07<br />population/3.5:  6208534.6<br />abbreviation: RO","nat_turnout: 59.82<br />euro_turnout: 22.74<br />population/3.5:  1555943.4<br />abbreviation: SK","nat_turnout: 52.64<br />euro_turnout: 28.89<br />population/3.5:   561630.3<br />abbreviation: SI","nat_turnout: 71.76<br />euro_turnout: 60.73<br />population/3.5: 14195215.4<br />abbreviation: ES","nat_turnout: 87.18<br />euro_turnout: 55.27<br />population/3.5:  2868855.7<br />abbreviation: SV","nat_turnout: 68.93<br />euro_turnout: 36.90<br />population/3.5: 18505557.7<br />abbreviation: UK"],"textfont":{"size":[7.0309674806686084,7.5530801352230181,6.7002883706401528,6.0467556066879915,4.7996405560584376,7.3880266315488647,6.4022363458997225,4.7993627293070542,6.3320782117470849,12.97496973024835,13.862058772350553,7.3996656401206469,7.2335329894700777,6.1777298896674679,12.633611570029833,5.1619198504004604,5.5042548881410038,4.2696026502972124,3.7795275590551185,8.3766867685521138,10.710267705184279,7.4123714372748069,8.9779379009826474,6.3047735313047308,5.1811147702977571,11.683046961098349,7.2728241958104798,12.812436216994762],"color":"rgba(51,51,51,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826491,"l":37.260273972602747},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Recent turnout in European Union countries","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[50.668999999999997,94.031000000000006],"tickmode":"array","ticktext":["60","70","80","90"],"tickvals":[60,70,80,90],"categoryorder":"array","categoryarray":["60","70","80","90"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Latest legislative or presidential election (whichever had higher turnout)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[19.453499999999998,91.756500000000003],"tickmode":"array","ticktext":["20","40","60","80"],"tickvals":[20,40,60,80],"categoryorder":"array","categoryarray":["20","40","60","80"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"May 2019 European Parliament election","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"region<br />population","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"35bc2ed3b482":{"x":{},"y":{},"size":{},"colour":{},"text":{},"type":"scatter"},"35bcfcda62e":{"x":{},"y":{},"size":{},"label":{}}},"cur_data":"35bc2ed3b482","visdat":{"35bc2ed3b482":["function (y) ","x"],"35bcfcda62e":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

### Customed Colour and Size Scale
Let's use the LaCroixColoR package to spruce up the colour scheme. In addition, by using scale\_size\_continuous, we can make sure that none of the text is too small.


``` r
recent_turnout <- read.csv("https://raw.githubusercontent.com/plotly/datasets/master/european_turnout.csv",stringsAsFactors = FALSE)
recent_turnout$region <- factor(recent_turnout$region, levels=c("British","Northern","Western","Mediterranean","Central/Eastern"))

library(plotly)
library(LaCroixColoR)
p <- recent_turnout %>%
  ggplot(aes(x=nat_turnout,y=euro_turnout)) + 
  geom_point(aes(size=population, colour=region, text=paste("country:", country)), alpha=0.4) +
  geom_text(aes(size=population/3.5, label=abbreviation), colour="gray20", alpha=1) +
  scale_colour_manual(values=lacroix_palette(n=6, name="PeachPear")) +
  scale_size_continuous(range = c(3, 8)) +
  labs(title = "Recent turnout in European Union countries",
       x = "Latest legislative or presidential election (whichever had higher turnout)",
       y = "May 2019 European Parliament election")
fig <- ggplotly(p)

fig
```

<div class="plotly html-widget html-fill-item" id="htmlwidget-52da3e21736e384c2749" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-52da3e21736e384c2749">{"x":{"data":[{"x":[65.090000000000003,68.930000000000007],"y":[49.700000000000003,36.899999999999999],"text":["nat_turnout: 65.09<br />euro_turnout: 49.70<br />population:  4952473<br />region: British<br />country: Ireland","nat_turnout: 68.93<br />euro_turnout: 36.90<br />population: 64769452<br />region: British<br />country: United Kingdom"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,50,0,1)","opacity":0.40000000000000002,"size":[15.969943154563,28.276608692201563],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(255,50,0,1)"}},"hoveron":"points","name":"British","legendgroup":"British","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[84.599999999999994,68.730000000000004,87.180000000000007],"y":[66,40.700000000000003,55.270000000000003],"text":["nat_turnout: 84.60<br />euro_turnout: 66.00<br />population:  5841522<br />region: Northern<br />country: Denmark","nat_turnout: 68.73<br />euro_turnout: 40.70<br />population:  5555154<br />region: Northern<br />country: Finland","nat_turnout: 87.18<br />euro_turnout: 55.27<br />population: 10040995<br />region: Northern<br />country: Sweden"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(233,161,124,1)","opacity":0.40000000000000002,"size":[16.37790745720601,16.250200672043807,17.974139494791309],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(233,161,124,1)"}},"hoveron":"points","name":"Northern","legendgroup":"Northern","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[80,88.379999999999995,74.560000000000002,76.150000000000006,89.659999999999997,81.930000000000007],"y":[59.799999999999997,88.469999999999999,50.119999999999997,61.380000000000003,84.239999999999995,41.93],"text":["nat_turnout: 80.00<br />euro_turnout: 59.80<br />population:  8754413<br />region: Western<br />country: Austria","nat_turnout: 88.38<br />euro_turnout: 88.47<br />population: 11647253<br />region: Western<br />country: Belgium","nat_turnout: 74.56<br />euro_turnout: 50.12<br />population: 67106161<br />region: Western<br />country: France","nat_turnout: 76.15<br />euro_turnout: 61.38<br />population: 80594017<br />region: Western<br />country: Germany","nat_turnout: 89.66<br />euro_turnout: 84.24<br />population:   605764<br />region: Western<br />country: Luxembourg","nat_turnout: 81.93<br />euro_turnout: 41.93<br />population: 17084719<br />region: Western<br />country: Netherlands"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(233,228,166,1)","opacity":0.40000000000000002,"size":[17.528995012396098,18.491109228288533,28.579993232564128,30.236220472440948,12.808377557193165,20.015462542519074],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(233,228,166,1)"}},"hoveron":"points","name":"Western","legendgroup":"Western","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[73.969999999999999,57.920000000000002,72.930000000000007,92.060000000000002,55.840000000000003,71.760000000000005],"y":[44.990000000000002,58.689999999999998,54.5,72.700000000000003,30.75,60.729999999999997],"text":["nat_turnout: 73.97<br />euro_turnout: 44.99<br />population:  1237088<br />region: Mediterranean<br />country: Cyprus","nat_turnout: 57.92<br />euro_turnout: 58.69<br />population: 10752626<br />region: Mediterranean<br />country: Greece","nat_turnout: 72.93<br />euro_turnout: 54.50<br />population: 62246674<br />region: Mediterranean<br />country: Italy","nat_turnout: 92.06<br />euro_turnout: 72.70<br />population:   416338<br />region: Mediterranean<br />country: Malta","nat_turnout: 55.84<br />euro_turnout: 30.75<br />population: 10825309<br />region: Mediterranean<br />country: Portugal","nat_turnout: 71.76<br />euro_turnout: 60.73<br />population: 49683254<br />region: Mediterranean<br />country: Spain"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(27,182,175,1)","opacity":0.40000000000000002,"size":[13.566114102297893,18.207977734053038,27.942844246520181,12.487360030119424,18.231414508783917,26.169272333796915],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(27,182,175,1)"}},"hoveron":"points","name":"Mediterranean","legendgroup":"Mediterranean","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[56.280000000000001,59.049999999999997,61.880000000000003,63.670000000000002,69.670000000000002,54.579999999999998,57.369999999999997,55.340000000000003,64.109999999999999,59.82,52.640000000000001],"y":[32.640000000000001,29.859999999999999,28.719999999999999,37.600000000000001,43.359999999999999,33.530000000000001,53.479999999999997,45.68,51.07,22.739999999999998,28.890000000000001],"text":["nat_turnout: 56.28<br />euro_turnout: 32.64<br />population:  7144653<br />region: Central/Eastern<br />country: Bulgaria","nat_turnout: 59.05<br />euro_turnout: 29.86<br />population:  4470534<br />region: Central/Eastern<br />country: Croatia","nat_turnout: 61.88<br />euro_turnout: 28.72<br />population: 10686269<br />region: Central/Eastern<br />country: Czechia","nat_turnout: 63.67<br />euro_turnout: 37.60<br />population:  1236641<br />region: Central/Eastern<br />country: Estonia","nat_turnout: 69.67<br />euro_turnout: 43.36<br />population:  9825704<br />region: Central/Eastern<br />country: Hungary","nat_turnout: 54.58<br />euro_turnout: 33.53<br />population:  1923559<br />region: Central/Eastern<br />country: Latvia","nat_turnout: 57.37<br />euro_turnout: 53.48<br />population:  2762485<br />region: Central/Eastern<br />country: Lithuania","nat_turnout: 55.34<br />euro_turnout: 45.68<br />population: 38301885<br />region: Central/Eastern<br />country: Poland","nat_turnout: 64.11<br />euro_turnout: 51.07<br />population: 21729871<br />region: Central/Eastern<br />country: Romania","nat_turnout: 59.82<br />euro_turnout: 22.74<br />population:  5445802<br />region: Central/Eastern<br />country: Slovakia","nat_turnout: 52.64<br />euro_turnout: 28.89<br />population:  1965706<br />region: Central/Eastern<br />country: Slovenia"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,118,187,1)","opacity":0.40000000000000002,"size":[16.922277011687815,15.732990484432026,18.186510747269402,13.565668804226888,17.901754677298847,14.16846235159654,14.763649780974449,24.355600223928622,21.131530889903281,16.200549838503473,14.201317889191849],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,118,187,1)"}},"hoveron":"points","name":"Central/Eastern","legendgroup":"Central/Eastern","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[80,88.379999999999995,56.280000000000001,59.049999999999997,73.969999999999999,61.880000000000003,84.599999999999994,63.670000000000002,68.730000000000004,74.560000000000002,76.150000000000006,57.920000000000002,69.670000000000002,65.090000000000003,72.930000000000007,54.579999999999998,57.369999999999997,89.659999999999997,92.060000000000002,81.930000000000007,55.340000000000003,55.840000000000003,64.109999999999999,59.82,52.640000000000001,71.760000000000005,87.180000000000007,68.930000000000007],"y":[59.799999999999997,88.469999999999999,32.640000000000001,29.859999999999999,44.990000000000002,28.719999999999999,66,37.600000000000001,40.700000000000003,50.119999999999997,61.380000000000003,58.689999999999998,43.359999999999999,49.700000000000003,54.5,33.530000000000001,53.479999999999997,84.239999999999995,72.700000000000003,41.93,45.68,30.75,51.07,22.739999999999998,28.890000000000001,60.729999999999997,55.270000000000003,36.899999999999999],"text":["AT","BE","BU","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PO","PT","RO","SK","SI","ES","SV","UK"],"hovertext":["nat_turnout: 80.00<br />euro_turnout: 59.80<br />population/3.5:  2501260.9<br />abbreviation: AT","nat_turnout: 88.38<br />euro_turnout: 88.47<br />population/3.5:  3327786.6<br />abbreviation: BE","nat_turnout: 56.28<br />euro_turnout: 32.64<br />population/3.5:  2041329.4<br />abbreviation: BU","nat_turnout: 59.05<br />euro_turnout: 29.86<br />population/3.5:  1277295.4<br />abbreviation: HR","nat_turnout: 73.97<br />euro_turnout: 44.99<br />population/3.5:   353453.7<br />abbreviation: CY","nat_turnout: 61.88<br />euro_turnout: 28.72<br />population/3.5:  3053219.7<br />abbreviation: CZ","nat_turnout: 84.60<br />euro_turnout: 66.00<br />population/3.5:  1669006.3<br />abbreviation: DK","nat_turnout: 63.67<br />euro_turnout: 37.60<br />population/3.5:   353326.0<br />abbreviation: EE","nat_turnout: 68.73<br />euro_turnout: 40.70<br />population/3.5:  1587186.9<br />abbreviation: FI","nat_turnout: 74.56<br />euro_turnout: 50.12<br />population/3.5: 19173188.9<br />abbreviation: FR","nat_turnout: 76.15<br />euro_turnout: 61.38<br />population/3.5: 23026862.0<br />abbreviation: DE","nat_turnout: 57.92<br />euro_turnout: 58.69<br />population/3.5:  3072178.9<br />abbreviation: GR","nat_turnout: 69.67<br />euro_turnout: 43.36<br />population/3.5:  2807344.0<br />abbreviation: HU","nat_turnout: 65.09<br />euro_turnout: 49.70<br />population/3.5:  1414992.3<br />abbreviation: IE","nat_turnout: 72.93<br />euro_turnout: 54.50<br />population/3.5: 17784764.0<br />abbreviation: IT","nat_turnout: 54.58<br />euro_turnout: 33.53<br />population/3.5:   549588.3<br />abbreviation: LV","nat_turnout: 57.37<br />euro_turnout: 53.48<br />population/3.5:   789281.4<br />abbreviation: LT","nat_turnout: 89.66<br />euro_turnout: 84.24<br />population/3.5:   173075.4<br />abbreviation: LU","nat_turnout: 92.06<br />euro_turnout: 72.70<br />population/3.5:   118953.7<br />abbreviation: MT","nat_turnout: 81.93<br />euro_turnout: 41.93<br />population/3.5:  4881348.3<br />abbreviation: NL","nat_turnout: 55.34<br />euro_turnout: 45.68<br />population/3.5: 10943395.7<br />abbreviation: PO","nat_turnout: 55.84<br />euro_turnout: 30.75<br />population/3.5:  3092945.4<br />abbreviation: PT","nat_turnout: 64.11<br />euro_turnout: 51.07<br />population/3.5:  6208534.6<br />abbreviation: RO","nat_turnout: 59.82<br />euro_turnout: 22.74<br />population/3.5:  1555943.4<br />abbreviation: SK","nat_turnout: 52.64<br />euro_turnout: 28.89<br />population/3.5:   561630.3<br />abbreviation: SI","nat_turnout: 71.76<br />euro_turnout: 60.73<br />population/3.5: 14195215.4<br />abbreviation: ES","nat_turnout: 87.18<br />euro_turnout: 55.27<br />population/3.5:  2868855.7<br />abbreviation: SV","nat_turnout: 68.93<br />euro_turnout: 36.90<br />population/3.5: 18505557.7<br />abbreviation: UK"],"textfont":{"size":[14.590022598778846,15.112135253333253,14.259343488750389,13.60581072479823,12.358695674168677,14.947081749659102,13.961291464009959,12.358417847417289,13.891133329857322,20.534024848358587,21.421113890460788,14.958720758230884,14.792588107580317,13.736785007777703,20.192666688140072,12.720974968510697,13.063310006251239,11.828657768407448,11.338582677165356,15.935741886662349,18.269322823294512,14.971426555385044,16.536993019092883,13.863828649414966,12.740169888407996,19.242102079208586,14.831879313920716,20.371491335104999],"color":"rgba(51,51,51,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826491,"l":37.260273972602747},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Recent turnout in European Union countries","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[50.668999999999997,94.031000000000006],"tickmode":"array","ticktext":["60","70","80","90"],"tickvals":[60,70,80,90],"categoryorder":"array","categoryarray":["60","70","80","90"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Latest legislative or presidential election (whichever had higher turnout)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[19.453499999999998,91.756500000000003],"tickmode":"array","ticktext":["20","40","60","80"],"tickvals":[20,40,60,80],"categoryorder":"array","categoryarray":["20","40","60","80"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"May 2019 European Parliament election","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"region<br />population","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"35bc76f954d6":{"x":{},"y":{},"size":{},"colour":{},"text":{},"type":"scatter"},"35bc79a34733":{"x":{},"y":{},"size":{},"label":{}}},"cur_data":"35bc76f954d6","visdat":{"35bc76f954d6":["function (y) ","x"],"35bc79a34733":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

### Adding a regression
Adding a regression line as well as a label. geom\_smooth does not allow for adjusting the transparency of the line (using alpha), which is why stat\_smooth is used here. annotate is used to include a single text label (geom\_text would create one label for every data point, all overlapped with each other).


``` r
recent_turnout <- read.csv("https://raw.githubusercontent.com/plotly/datasets/master/european_turnout.csv",stringsAsFactors = FALSE)
recent_turnout$region <- factor(recent_turnout$region, levels=c("British","Northern","Western","Mediterranean","Central/Eastern"))
m <- lm(euro_turnout ~ nat_turnout, data = recent_turnout)

library(plotly)
library(LaCroixColoR)
p <- recent_turnout %>%
  ggplot(aes(x=nat_turnout,y=euro_turnout)) + 
  stat_smooth(geom="line", method="lm", alpha=0.3, se=FALSE) + 
  geom_point(aes(size=population, colour=region, text=paste("country:", country)), alpha=0.4) +
  geom_text(aes(size=population/3.5, label=abbreviation), colour="gray20", alpha=1) +
  scale_colour_manual(values=lacroix_palette(n=6, name="PeachPear")) +
  scale_size_continuous(range = c(3, 8)) +
  labs(title = "Recent turnout in European Union countries",
       x = "Latest legislative or presidential election (whichever had higher turnout)",
       y = "May 2019 European Parliament election") +
  annotate(geom="text", x=60, y=80, label = paste("European turnout = \n",
                                                  round(unname(coef(m)[2]),2),
                                                  "x national turnout",
                                                  round(unname(coef(m)[1]),1)))
fig <- ggplotly(p)

fig
```

<div class="plotly html-widget html-fill-item" id="htmlwidget-ae010c387711239526bf" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-ae010c387711239526bf">{"x":{"data":[{"x":[52.640000000000001,53.13898734177215,53.637974683544307,54.136962025316457,54.635949367088607,55.134936708860764,55.633924050632913,56.132911392405063,56.631898734177213,57.13088607594937,57.62987341772152,58.128860759493669,58.627848101265826,59.126835443037976,59.625822784810126,60.124810126582283,60.623797468354432,61.122784810126582,61.621772151898739,62.120759493670889,62.619746835443038,63.118734177215188,63.617721518987345,64.116708860759502,64.615696202531652,65.114683544303801,65.613670886075951,66.112658227848101,66.611645569620251,67.110632911392401,67.609620253164564,68.108607594936714,68.607594936708864,69.106582278481014,69.605569620253164,70.104556962025313,70.603544303797463,71.102531645569627,71.601518987341777,72.100506329113927,72.599493670886076,73.098481012658226,73.59746835443039,74.096455696202526,74.59544303797469,75.094430379746839,75.593417721518989,76.092405063291139,76.591392405063289,77.090379746835453,77.589367088607588,78.088354430379752,78.587341772151902,79.086329113924052,79.585316455696201,80.084303797468351,80.583291139240515,81.082278481012665,81.581265822784815,82.080253164556964,82.579240506329114,83.078227848101264,83.577215189873414,84.076202531645578,84.575189873417727,85.074177215189877,85.573164556962027,86.072151898734177,86.571139240506341,87.070126582278476,87.56911392405064,88.06810126582279,88.56708860759494,89.066075949367089,89.565063291139239,90.064050632911403,90.563037974683539,91.062025316455703,91.561012658227853,92.060000000000002],"y":[31.031186503849725,31.557116039710507,32.083045575571298,32.60897511143208,33.134904647292863,33.660834183153646,34.186763719014429,34.712693254875212,35.238622790735995,35.764552326596785,36.290481862457568,36.816411398318351,37.342340934179134,37.868270470039917,38.3942000059007,38.92012954176149,39.446059077622273,39.971988613483056,40.497918149343839,41.023847685204622,41.549777221065405,42.075706756926188,42.601636292786971,43.127565828647768,43.653495364508551,44.179424900369334,44.705354436230117,45.2312839720909,45.757213507951683,46.283143043812451,46.809072579673249,47.335002115534031,47.860931651394814,48.386861187255597,48.91279072311638,49.438720258977163,49.964649794837946,50.490579330698743,51.016508866559526,51.542438402420309,52.068367938281092,52.594297474141875,53.120227010002672,53.646156545863427,54.172086081724224,54.698015617585007,55.22394515344579,55.749874689306573,56.275804225167356,56.801733761028153,57.327663296888922,57.853592832749719,58.379522368610502,58.905451904471285,59.431381440332068,59.957310976192851,60.483240512053648,61.009170047914417,61.5350995837752,62.061029119635982,62.586958655496765,63.112888191357548,63.638817727218331,64.164747263079136,64.690676798939904,65.216606334800701,65.74253587066147,66.268465406522267,66.794394942383065,67.320324478243805,67.846254014104602,68.372183549965399,68.898113085826168,69.424042621686965,69.949972157547734,70.475901693408531,71.0018312292693,71.527760765130097,72.053690300990894,72.579619836851663],"text":["nat_turnout: 52.64000<br />euro_turnout: 31.03119","nat_turnout: 53.13899<br />euro_turnout: 31.55712","nat_turnout: 53.63797<br />euro_turnout: 32.08305","nat_turnout: 54.13696<br />euro_turnout: 32.60898","nat_turnout: 54.63595<br />euro_turnout: 33.13490","nat_turnout: 55.13494<br />euro_turnout: 33.66083","nat_turnout: 55.63392<br />euro_turnout: 34.18676","nat_turnout: 56.13291<br />euro_turnout: 34.71269","nat_turnout: 56.63190<br />euro_turnout: 35.23862","nat_turnout: 57.13089<br />euro_turnout: 35.76455","nat_turnout: 57.62987<br />euro_turnout: 36.29048","nat_turnout: 58.12886<br />euro_turnout: 36.81641","nat_turnout: 58.62785<br />euro_turnout: 37.34234","nat_turnout: 59.12684<br />euro_turnout: 37.86827","nat_turnout: 59.62582<br />euro_turnout: 38.39420","nat_turnout: 60.12481<br />euro_turnout: 38.92013","nat_turnout: 60.62380<br />euro_turnout: 39.44606","nat_turnout: 61.12278<br />euro_turnout: 39.97199","nat_turnout: 61.62177<br />euro_turnout: 40.49792","nat_turnout: 62.12076<br />euro_turnout: 41.02385","nat_turnout: 62.61975<br />euro_turnout: 41.54978","nat_turnout: 63.11873<br />euro_turnout: 42.07571","nat_turnout: 63.61772<br />euro_turnout: 42.60164","nat_turnout: 64.11671<br />euro_turnout: 43.12757","nat_turnout: 64.61570<br />euro_turnout: 43.65350","nat_turnout: 65.11468<br />euro_turnout: 44.17942","nat_turnout: 65.61367<br />euro_turnout: 44.70535","nat_turnout: 66.11266<br />euro_turnout: 45.23128","nat_turnout: 66.61165<br />euro_turnout: 45.75721","nat_turnout: 67.11063<br />euro_turnout: 46.28314","nat_turnout: 67.60962<br />euro_turnout: 46.80907","nat_turnout: 68.10861<br />euro_turnout: 47.33500","nat_turnout: 68.60759<br />euro_turnout: 47.86093","nat_turnout: 69.10658<br />euro_turnout: 48.38686","nat_turnout: 69.60557<br />euro_turnout: 48.91279","nat_turnout: 70.10456<br />euro_turnout: 49.43872","nat_turnout: 70.60354<br />euro_turnout: 49.96465","nat_turnout: 71.10253<br />euro_turnout: 50.49058","nat_turnout: 71.60152<br />euro_turnout: 51.01651","nat_turnout: 72.10051<br />euro_turnout: 51.54244","nat_turnout: 72.59949<br />euro_turnout: 52.06837","nat_turnout: 73.09848<br />euro_turnout: 52.59430","nat_turnout: 73.59747<br />euro_turnout: 53.12023","nat_turnout: 74.09646<br />euro_turnout: 53.64616","nat_turnout: 74.59544<br />euro_turnout: 54.17209","nat_turnout: 75.09443<br />euro_turnout: 54.69802","nat_turnout: 75.59342<br />euro_turnout: 55.22395","nat_turnout: 76.09241<br />euro_turnout: 55.74987","nat_turnout: 76.59139<br />euro_turnout: 56.27580","nat_turnout: 77.09038<br />euro_turnout: 56.80173","nat_turnout: 77.58937<br />euro_turnout: 57.32766","nat_turnout: 78.08835<br />euro_turnout: 57.85359","nat_turnout: 78.58734<br />euro_turnout: 58.37952","nat_turnout: 79.08633<br />euro_turnout: 58.90545","nat_turnout: 79.58532<br />euro_turnout: 59.43138","nat_turnout: 80.08430<br />euro_turnout: 59.95731","nat_turnout: 80.58329<br />euro_turnout: 60.48324","nat_turnout: 81.08228<br />euro_turnout: 61.00917","nat_turnout: 81.58127<br />euro_turnout: 61.53510","nat_turnout: 82.08025<br />euro_turnout: 62.06103","nat_turnout: 82.57924<br />euro_turnout: 62.58696","nat_turnout: 83.07823<br />euro_turnout: 63.11289","nat_turnout: 83.57722<br />euro_turnout: 63.63882","nat_turnout: 84.07620<br />euro_turnout: 64.16475","nat_turnout: 84.57519<br />euro_turnout: 64.69068","nat_turnout: 85.07418<br />euro_turnout: 65.21661","nat_turnout: 85.57316<br />euro_turnout: 65.74254","nat_turnout: 86.07215<br />euro_turnout: 66.26847","nat_turnout: 86.57114<br />euro_turnout: 66.79439","nat_turnout: 87.07013<br />euro_turnout: 67.32032","nat_turnout: 87.56911<br />euro_turnout: 67.84625","nat_turnout: 88.06810<br />euro_turnout: 68.37218","nat_turnout: 88.56709<br />euro_turnout: 68.89811","nat_turnout: 89.06608<br />euro_turnout: 69.42404","nat_turnout: 89.56506<br />euro_turnout: 69.94997","nat_turnout: 90.06405<br />euro_turnout: 70.47590","nat_turnout: 90.56304<br />euro_turnout: 71.00183","nat_turnout: 91.06203<br />euro_turnout: 71.52776","nat_turnout: 91.56101<br />euro_turnout: 72.05369","nat_turnout: 92.06000<br />euro_turnout: 72.57962"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,0.3)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[65.090000000000003,68.930000000000007],"y":[49.700000000000003,36.899999999999999],"text":["nat_turnout: 65.09<br />euro_turnout: 49.70<br />population:  4952473<br />region: British<br />country: Ireland","nat_turnout: 68.93<br />euro_turnout: 36.90<br />population: 64769452<br />region: British<br />country: United Kingdom"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,50,0,1)","opacity":0.40000000000000002,"size":[15.969943154563,28.276608692201563],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(255,50,0,1)"}},"hoveron":"points","name":"British","legendgroup":"British","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[84.599999999999994,68.730000000000004,87.180000000000007],"y":[66,40.700000000000003,55.270000000000003],"text":["nat_turnout: 84.60<br />euro_turnout: 66.00<br />population:  5841522<br />region: Northern<br />country: Denmark","nat_turnout: 68.73<br />euro_turnout: 40.70<br />population:  5555154<br />region: Northern<br />country: Finland","nat_turnout: 87.18<br />euro_turnout: 55.27<br />population: 10040995<br />region: Northern<br />country: Sweden"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(233,161,124,1)","opacity":0.40000000000000002,"size":[16.37790745720601,16.250200672043807,17.974139494791309],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(233,161,124,1)"}},"hoveron":"points","name":"Northern","legendgroup":"Northern","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[80,88.379999999999995,74.560000000000002,76.150000000000006,89.659999999999997,81.930000000000007],"y":[59.799999999999997,88.469999999999999,50.119999999999997,61.380000000000003,84.239999999999995,41.93],"text":["nat_turnout: 80.00<br />euro_turnout: 59.80<br />population:  8754413<br />region: Western<br />country: Austria","nat_turnout: 88.38<br />euro_turnout: 88.47<br />population: 11647253<br />region: Western<br />country: Belgium","nat_turnout: 74.56<br />euro_turnout: 50.12<br />population: 67106161<br />region: Western<br />country: France","nat_turnout: 76.15<br />euro_turnout: 61.38<br />population: 80594017<br />region: Western<br />country: Germany","nat_turnout: 89.66<br />euro_turnout: 84.24<br />population:   605764<br />region: Western<br />country: Luxembourg","nat_turnout: 81.93<br />euro_turnout: 41.93<br />population: 17084719<br />region: Western<br />country: Netherlands"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(233,228,166,1)","opacity":0.40000000000000002,"size":[17.528995012396098,18.491109228288533,28.579993232564128,30.236220472440948,12.808377557193165,20.015462542519074],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(233,228,166,1)"}},"hoveron":"points","name":"Western","legendgroup":"Western","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[73.969999999999999,57.920000000000002,72.930000000000007,92.060000000000002,55.840000000000003,71.760000000000005],"y":[44.990000000000002,58.689999999999998,54.5,72.700000000000003,30.75,60.729999999999997],"text":["nat_turnout: 73.97<br />euro_turnout: 44.99<br />population:  1237088<br />region: Mediterranean<br />country: Cyprus","nat_turnout: 57.92<br />euro_turnout: 58.69<br />population: 10752626<br />region: Mediterranean<br />country: Greece","nat_turnout: 72.93<br />euro_turnout: 54.50<br />population: 62246674<br />region: Mediterranean<br />country: Italy","nat_turnout: 92.06<br />euro_turnout: 72.70<br />population:   416338<br />region: Mediterranean<br />country: Malta","nat_turnout: 55.84<br />euro_turnout: 30.75<br />population: 10825309<br />region: Mediterranean<br />country: Portugal","nat_turnout: 71.76<br />euro_turnout: 60.73<br />population: 49683254<br />region: Mediterranean<br />country: Spain"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(27,182,175,1)","opacity":0.40000000000000002,"size":[13.566114102297893,18.207977734053038,27.942844246520181,12.487360030119424,18.231414508783917,26.169272333796915],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(27,182,175,1)"}},"hoveron":"points","name":"Mediterranean","legendgroup":"Mediterranean","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[56.280000000000001,59.049999999999997,61.880000000000003,63.670000000000002,69.670000000000002,54.579999999999998,57.369999999999997,55.340000000000003,64.109999999999999,59.82,52.640000000000001],"y":[32.640000000000001,29.859999999999999,28.719999999999999,37.600000000000001,43.359999999999999,33.530000000000001,53.479999999999997,45.68,51.07,22.739999999999998,28.890000000000001],"text":["nat_turnout: 56.28<br />euro_turnout: 32.64<br />population:  7144653<br />region: Central/Eastern<br />country: Bulgaria","nat_turnout: 59.05<br />euro_turnout: 29.86<br />population:  4470534<br />region: Central/Eastern<br />country: Croatia","nat_turnout: 61.88<br />euro_turnout: 28.72<br />population: 10686269<br />region: Central/Eastern<br />country: Czechia","nat_turnout: 63.67<br />euro_turnout: 37.60<br />population:  1236641<br />region: Central/Eastern<br />country: Estonia","nat_turnout: 69.67<br />euro_turnout: 43.36<br />population:  9825704<br />region: Central/Eastern<br />country: Hungary","nat_turnout: 54.58<br />euro_turnout: 33.53<br />population:  1923559<br />region: Central/Eastern<br />country: Latvia","nat_turnout: 57.37<br />euro_turnout: 53.48<br />population:  2762485<br />region: Central/Eastern<br />country: Lithuania","nat_turnout: 55.34<br />euro_turnout: 45.68<br />population: 38301885<br />region: Central/Eastern<br />country: Poland","nat_turnout: 64.11<br />euro_turnout: 51.07<br />population: 21729871<br />region: Central/Eastern<br />country: Romania","nat_turnout: 59.82<br />euro_turnout: 22.74<br />population:  5445802<br />region: Central/Eastern<br />country: Slovakia","nat_turnout: 52.64<br />euro_turnout: 28.89<br />population:  1965706<br />region: Central/Eastern<br />country: Slovenia"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,118,187,1)","opacity":0.40000000000000002,"size":[16.922277011687815,15.732990484432026,18.186510747269402,13.565668804226888,17.901754677298847,14.16846235159654,14.763649780974449,24.355600223928622,21.131530889903281,16.200549838503473,14.201317889191849],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,118,187,1)"}},"hoveron":"points","name":"Central/Eastern","legendgroup":"Central/Eastern","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[80,88.379999999999995,56.280000000000001,59.049999999999997,73.969999999999999,61.880000000000003,84.599999999999994,63.670000000000002,68.730000000000004,74.560000000000002,76.150000000000006,57.920000000000002,69.670000000000002,65.090000000000003,72.930000000000007,54.579999999999998,57.369999999999997,89.659999999999997,92.060000000000002,81.930000000000007,55.340000000000003,55.840000000000003,64.109999999999999,59.82,52.640000000000001,71.760000000000005,87.180000000000007,68.930000000000007],"y":[59.799999999999997,88.469999999999999,32.640000000000001,29.859999999999999,44.990000000000002,28.719999999999999,66,37.600000000000001,40.700000000000003,50.119999999999997,61.380000000000003,58.689999999999998,43.359999999999999,49.700000000000003,54.5,33.530000000000001,53.479999999999997,84.239999999999995,72.700000000000003,41.93,45.68,30.75,51.07,22.739999999999998,28.890000000000001,60.729999999999997,55.270000000000003,36.899999999999999],"text":["AT","BE","BU","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PO","PT","RO","SK","SI","ES","SV","UK"],"hovertext":["nat_turnout: 80.00<br />euro_turnout: 59.80<br />population/3.5:  2501260.9<br />abbreviation: AT","nat_turnout: 88.38<br />euro_turnout: 88.47<br />population/3.5:  3327786.6<br />abbreviation: BE","nat_turnout: 56.28<br />euro_turnout: 32.64<br />population/3.5:  2041329.4<br />abbreviation: BU","nat_turnout: 59.05<br />euro_turnout: 29.86<br />population/3.5:  1277295.4<br />abbreviation: HR","nat_turnout: 73.97<br />euro_turnout: 44.99<br />population/3.5:   353453.7<br />abbreviation: CY","nat_turnout: 61.88<br />euro_turnout: 28.72<br />population/3.5:  3053219.7<br />abbreviation: CZ","nat_turnout: 84.60<br />euro_turnout: 66.00<br />population/3.5:  1669006.3<br />abbreviation: DK","nat_turnout: 63.67<br />euro_turnout: 37.60<br />population/3.5:   353326.0<br />abbreviation: EE","nat_turnout: 68.73<br />euro_turnout: 40.70<br />population/3.5:  1587186.9<br />abbreviation: FI","nat_turnout: 74.56<br />euro_turnout: 50.12<br />population/3.5: 19173188.9<br />abbreviation: FR","nat_turnout: 76.15<br />euro_turnout: 61.38<br />population/3.5: 23026862.0<br />abbreviation: DE","nat_turnout: 57.92<br />euro_turnout: 58.69<br />population/3.5:  3072178.9<br />abbreviation: GR","nat_turnout: 69.67<br />euro_turnout: 43.36<br />population/3.5:  2807344.0<br />abbreviation: HU","nat_turnout: 65.09<br />euro_turnout: 49.70<br />population/3.5:  1414992.3<br />abbreviation: IE","nat_turnout: 72.93<br />euro_turnout: 54.50<br />population/3.5: 17784764.0<br />abbreviation: IT","nat_turnout: 54.58<br />euro_turnout: 33.53<br />population/3.5:   549588.3<br />abbreviation: LV","nat_turnout: 57.37<br />euro_turnout: 53.48<br />population/3.5:   789281.4<br />abbreviation: LT","nat_turnout: 89.66<br />euro_turnout: 84.24<br />population/3.5:   173075.4<br />abbreviation: LU","nat_turnout: 92.06<br />euro_turnout: 72.70<br />population/3.5:   118953.7<br />abbreviation: MT","nat_turnout: 81.93<br />euro_turnout: 41.93<br />population/3.5:  4881348.3<br />abbreviation: NL","nat_turnout: 55.34<br />euro_turnout: 45.68<br />population/3.5: 10943395.7<br />abbreviation: PO","nat_turnout: 55.84<br />euro_turnout: 30.75<br />population/3.5:  3092945.4<br />abbreviation: PT","nat_turnout: 64.11<br />euro_turnout: 51.07<br />population/3.5:  6208534.6<br />abbreviation: RO","nat_turnout: 59.82<br />euro_turnout: 22.74<br />population/3.5:  1555943.4<br />abbreviation: SK","nat_turnout: 52.64<br />euro_turnout: 28.89<br />population/3.5:   561630.3<br />abbreviation: SI","nat_turnout: 71.76<br />euro_turnout: 60.73<br />population/3.5: 14195215.4<br />abbreviation: ES","nat_turnout: 87.18<br />euro_turnout: 55.27<br />population/3.5:  2868855.7<br />abbreviation: SV","nat_turnout: 68.93<br />euro_turnout: 36.90<br />population/3.5: 18505557.7<br />abbreviation: UK"],"textfont":{"size":[14.590022598778846,15.112135253333253,14.259343488750389,13.60581072479823,12.358695674168677,14.947081749659102,13.961291464009959,12.358417847417289,13.891133329857322,20.534024848358587,21.421113890460788,14.958720758230884,14.792588107580317,13.736785007777703,20.192666688140072,12.720974968510697,13.063310006251239,11.828657768407448,11.338582677165356,15.935741886662349,18.269322823294512,14.971426555385044,16.536993019092883,13.863828649414966,12.740169888407996,19.242102079208586,14.831879313920716,20.371491335104999],"color":"rgba(51,51,51,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[60],"y":[80],"text":"European turnout = <br /> 1.05 x national turnout -24.5","hovertext":"x: 60<br />y: 80","textfont":{"size":14.66456692913386,"color":"rgba(0,0,0,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826491,"l":37.260273972602747},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724},"title":{"text":"Recent turnout in European Union countries","font":{"color":"rgba(0,0,0,1)","family":"","size":17.534246575342465},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[50.668999999999997,94.031000000000006],"tickmode":"array","ticktext":["60","70","80","90"],"tickvals":[60,70,80,90],"categoryorder":"array","categoryarray":["60","70","80","90"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Latest legislative or presidential election (whichever had higher turnout)","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[19.453499999999998,91.756500000000003],"tickmode":"array","ticktext":["20","40","60","80"],"tickvals":[20,40,60,80],"categoryorder":"array","categoryarray":["20","40","60","80"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"May 2019 European Parliament election","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.68949771689498},"title":{"text":"region<br />population","font":{"color":"rgba(0,0,0,1)","family":"","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"35bc5afcc192":{"x":{},"y":{},"type":"scatter"},"35bc2994bb5e":{"x":{},"y":{},"size":{},"colour":{},"text":{}},"35bc1ed10827":{"x":{},"y":{},"size":{},"label":{}},"35bc189401":{"x":{},"y":{}}},"cur_data":"35bc5afcc192","visdat":{"35bc5afcc192":["function (y) ","x"],"35bc2994bb5e":["function (y) ","x"],"35bc1ed10827":["function (y) ","x"],"35bc189401":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>

### Customized Formatting
Changed the font of the geom\_text and of the graph (these must be done separately!), corrected the size label, centre-aligned the title.


``` r
recent_turnout <- read.csv("https://raw.githubusercontent.com/plotly/datasets/master/european_turnout.csv",stringsAsFactors = FALSE)
recent_turnout$region <- factor(recent_turnout$region, levels=c("British","Northern","Western","Mediterranean","Central/Eastern"))
m <- lm(euro_turnout ~ nat_turnout, data = recent_turnout)

library(plotly)
library(LaCroixColoR)
p <- recent_turnout %>%
  ggplot(aes(x=nat_turnout,y=euro_turnout)) + 
  stat_smooth(geom="line", method="lm", alpha=0.3, se=FALSE) + 
  geom_point(aes(size=population, colour=region, text=paste("country:", country)), alpha=0.4) +
  geom_text(aes(size=population/3.5, label=abbreviation), colour="gray20", alpha=1, family="Fira Sans") +
  scale_colour_manual(values=lacroix_palette(n=6, name="PeachPear")) +
  scale_size_continuous(range = c(3, 8)) +
  labs(title = "Recent turnout in European Union countries",
       x = "Latest legislative or presidential election (whichever had higher turnout)",
       y = "May 2019 European Parliament election",
       size = "") +
  annotate(geom="text", x=60, y=80, label = paste("European turnout = \n",
                                                  round(unname(coef(m)[2]),2),
                                                  "x national turnout",
                                                  round(unname(coef(m)[1]),1))) +
  theme(plot.title = element_text(hjust = 0.5)) +
  guides(size=guide_legend(""), fill = FALSE) +
  theme(text = element_text(family = 'Fira Sans'))
fig <- ggplotly(p)

fig
```

<div class="plotly html-widget html-fill-item" id="htmlwidget-b52722c8d6d98a53a84c" style="width:672px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-b52722c8d6d98a53a84c">{"x":{"data":[{"x":[52.640000000000001,53.13898734177215,53.637974683544307,54.136962025316457,54.635949367088607,55.134936708860764,55.633924050632913,56.132911392405063,56.631898734177213,57.13088607594937,57.62987341772152,58.128860759493669,58.627848101265826,59.126835443037976,59.625822784810126,60.124810126582283,60.623797468354432,61.122784810126582,61.621772151898739,62.120759493670889,62.619746835443038,63.118734177215188,63.617721518987345,64.116708860759502,64.615696202531652,65.114683544303801,65.613670886075951,66.112658227848101,66.611645569620251,67.110632911392401,67.609620253164564,68.108607594936714,68.607594936708864,69.106582278481014,69.605569620253164,70.104556962025313,70.603544303797463,71.102531645569627,71.601518987341777,72.100506329113927,72.599493670886076,73.098481012658226,73.59746835443039,74.096455696202526,74.59544303797469,75.094430379746839,75.593417721518989,76.092405063291139,76.591392405063289,77.090379746835453,77.589367088607588,78.088354430379752,78.587341772151902,79.086329113924052,79.585316455696201,80.084303797468351,80.583291139240515,81.082278481012665,81.581265822784815,82.080253164556964,82.579240506329114,83.078227848101264,83.577215189873414,84.076202531645578,84.575189873417727,85.074177215189877,85.573164556962027,86.072151898734177,86.571139240506341,87.070126582278476,87.56911392405064,88.06810126582279,88.56708860759494,89.066075949367089,89.565063291139239,90.064050632911403,90.563037974683539,91.062025316455703,91.561012658227853,92.060000000000002],"y":[31.031186503849725,31.557116039710507,32.083045575571298,32.60897511143208,33.134904647292863,33.660834183153646,34.186763719014429,34.712693254875212,35.238622790735995,35.764552326596785,36.290481862457568,36.816411398318351,37.342340934179134,37.868270470039917,38.3942000059007,38.92012954176149,39.446059077622273,39.971988613483056,40.497918149343839,41.023847685204622,41.549777221065405,42.075706756926188,42.601636292786971,43.127565828647768,43.653495364508551,44.179424900369334,44.705354436230117,45.2312839720909,45.757213507951683,46.283143043812451,46.809072579673249,47.335002115534031,47.860931651394814,48.386861187255597,48.91279072311638,49.438720258977163,49.964649794837946,50.490579330698743,51.016508866559526,51.542438402420309,52.068367938281092,52.594297474141875,53.120227010002672,53.646156545863427,54.172086081724224,54.698015617585007,55.22394515344579,55.749874689306573,56.275804225167356,56.801733761028153,57.327663296888922,57.853592832749719,58.379522368610502,58.905451904471285,59.431381440332068,59.957310976192851,60.483240512053648,61.009170047914417,61.5350995837752,62.061029119635982,62.586958655496765,63.112888191357548,63.638817727218331,64.164747263079136,64.690676798939904,65.216606334800701,65.74253587066147,66.268465406522267,66.794394942383065,67.320324478243805,67.846254014104602,68.372183549965399,68.898113085826168,69.424042621686965,69.949972157547734,70.475901693408531,71.0018312292693,71.527760765130097,72.053690300990894,72.579619836851663],"text":["nat_turnout: 52.64000<br />euro_turnout: 31.03119","nat_turnout: 53.13899<br />euro_turnout: 31.55712","nat_turnout: 53.63797<br />euro_turnout: 32.08305","nat_turnout: 54.13696<br />euro_turnout: 32.60898","nat_turnout: 54.63595<br />euro_turnout: 33.13490","nat_turnout: 55.13494<br />euro_turnout: 33.66083","nat_turnout: 55.63392<br />euro_turnout: 34.18676","nat_turnout: 56.13291<br />euro_turnout: 34.71269","nat_turnout: 56.63190<br />euro_turnout: 35.23862","nat_turnout: 57.13089<br />euro_turnout: 35.76455","nat_turnout: 57.62987<br />euro_turnout: 36.29048","nat_turnout: 58.12886<br />euro_turnout: 36.81641","nat_turnout: 58.62785<br />euro_turnout: 37.34234","nat_turnout: 59.12684<br />euro_turnout: 37.86827","nat_turnout: 59.62582<br />euro_turnout: 38.39420","nat_turnout: 60.12481<br />euro_turnout: 38.92013","nat_turnout: 60.62380<br />euro_turnout: 39.44606","nat_turnout: 61.12278<br />euro_turnout: 39.97199","nat_turnout: 61.62177<br />euro_turnout: 40.49792","nat_turnout: 62.12076<br />euro_turnout: 41.02385","nat_turnout: 62.61975<br />euro_turnout: 41.54978","nat_turnout: 63.11873<br />euro_turnout: 42.07571","nat_turnout: 63.61772<br />euro_turnout: 42.60164","nat_turnout: 64.11671<br />euro_turnout: 43.12757","nat_turnout: 64.61570<br />euro_turnout: 43.65350","nat_turnout: 65.11468<br />euro_turnout: 44.17942","nat_turnout: 65.61367<br />euro_turnout: 44.70535","nat_turnout: 66.11266<br />euro_turnout: 45.23128","nat_turnout: 66.61165<br />euro_turnout: 45.75721","nat_turnout: 67.11063<br />euro_turnout: 46.28314","nat_turnout: 67.60962<br />euro_turnout: 46.80907","nat_turnout: 68.10861<br />euro_turnout: 47.33500","nat_turnout: 68.60759<br />euro_turnout: 47.86093","nat_turnout: 69.10658<br />euro_turnout: 48.38686","nat_turnout: 69.60557<br />euro_turnout: 48.91279","nat_turnout: 70.10456<br />euro_turnout: 49.43872","nat_turnout: 70.60354<br />euro_turnout: 49.96465","nat_turnout: 71.10253<br />euro_turnout: 50.49058","nat_turnout: 71.60152<br />euro_turnout: 51.01651","nat_turnout: 72.10051<br />euro_turnout: 51.54244","nat_turnout: 72.59949<br />euro_turnout: 52.06837","nat_turnout: 73.09848<br />euro_turnout: 52.59430","nat_turnout: 73.59747<br />euro_turnout: 53.12023","nat_turnout: 74.09646<br />euro_turnout: 53.64616","nat_turnout: 74.59544<br />euro_turnout: 54.17209","nat_turnout: 75.09443<br />euro_turnout: 54.69802","nat_turnout: 75.59342<br />euro_turnout: 55.22395","nat_turnout: 76.09241<br />euro_turnout: 55.74987","nat_turnout: 76.59139<br />euro_turnout: 56.27580","nat_turnout: 77.09038<br />euro_turnout: 56.80173","nat_turnout: 77.58937<br />euro_turnout: 57.32766","nat_turnout: 78.08835<br />euro_turnout: 57.85359","nat_turnout: 78.58734<br />euro_turnout: 58.37952","nat_turnout: 79.08633<br />euro_turnout: 58.90545","nat_turnout: 79.58532<br />euro_turnout: 59.43138","nat_turnout: 80.08430<br />euro_turnout: 59.95731","nat_turnout: 80.58329<br />euro_turnout: 60.48324","nat_turnout: 81.08228<br />euro_turnout: 61.00917","nat_turnout: 81.58127<br />euro_turnout: 61.53510","nat_turnout: 82.08025<br />euro_turnout: 62.06103","nat_turnout: 82.57924<br />euro_turnout: 62.58696","nat_turnout: 83.07823<br />euro_turnout: 63.11289","nat_turnout: 83.57722<br />euro_turnout: 63.63882","nat_turnout: 84.07620<br />euro_turnout: 64.16475","nat_turnout: 84.57519<br />euro_turnout: 64.69068","nat_turnout: 85.07418<br />euro_turnout: 65.21661","nat_turnout: 85.57316<br />euro_turnout: 65.74254","nat_turnout: 86.07215<br />euro_turnout: 66.26847","nat_turnout: 86.57114<br />euro_turnout: 66.79439","nat_turnout: 87.07013<br />euro_turnout: 67.32032","nat_turnout: 87.56911<br />euro_turnout: 67.84625","nat_turnout: 88.06810<br />euro_turnout: 68.37218","nat_turnout: 88.56709<br />euro_turnout: 68.89811","nat_turnout: 89.06608<br />euro_turnout: 69.42404","nat_turnout: 89.56506<br />euro_turnout: 69.94997","nat_turnout: 90.06405<br />euro_turnout: 70.47590","nat_turnout: 90.56304<br />euro_turnout: 71.00183","nat_turnout: 91.06203<br />euro_turnout: 71.52776","nat_turnout: 91.56101<br />euro_turnout: 72.05369","nat_turnout: 92.06000<br />euro_turnout: 72.57962"],"type":"scatter","mode":"lines","line":{"width":1.8897637795275593,"color":"rgba(0,0,0,0.3)","dash":"solid"},"hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[65.090000000000003,68.930000000000007],"y":[49.700000000000003,36.899999999999999],"text":["nat_turnout: 65.09<br />euro_turnout: 49.70<br />population:  4952473<br />region: British<br />country: Ireland","nat_turnout: 68.93<br />euro_turnout: 36.90<br />population: 64769452<br />region: British<br />country: United Kingdom"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(255,50,0,1)","opacity":0.40000000000000002,"size":[15.969943154563,28.276608692201563],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(255,50,0,1)"}},"hoveron":"points","name":"British","legendgroup":"British","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[84.599999999999994,68.730000000000004,87.180000000000007],"y":[66,40.700000000000003,55.270000000000003],"text":["nat_turnout: 84.60<br />euro_turnout: 66.00<br />population:  5841522<br />region: Northern<br />country: Denmark","nat_turnout: 68.73<br />euro_turnout: 40.70<br />population:  5555154<br />region: Northern<br />country: Finland","nat_turnout: 87.18<br />euro_turnout: 55.27<br />population: 10040995<br />region: Northern<br />country: Sweden"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(233,161,124,1)","opacity":0.40000000000000002,"size":[16.37790745720601,16.250200672043807,17.974139494791309],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(233,161,124,1)"}},"hoveron":"points","name":"Northern","legendgroup":"Northern","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[80,88.379999999999995,74.560000000000002,76.150000000000006,89.659999999999997,81.930000000000007],"y":[59.799999999999997,88.469999999999999,50.119999999999997,61.380000000000003,84.239999999999995,41.93],"text":["nat_turnout: 80.00<br />euro_turnout: 59.80<br />population:  8754413<br />region: Western<br />country: Austria","nat_turnout: 88.38<br />euro_turnout: 88.47<br />population: 11647253<br />region: Western<br />country: Belgium","nat_turnout: 74.56<br />euro_turnout: 50.12<br />population: 67106161<br />region: Western<br />country: France","nat_turnout: 76.15<br />euro_turnout: 61.38<br />population: 80594017<br />region: Western<br />country: Germany","nat_turnout: 89.66<br />euro_turnout: 84.24<br />population:   605764<br />region: Western<br />country: Luxembourg","nat_turnout: 81.93<br />euro_turnout: 41.93<br />population: 17084719<br />region: Western<br />country: Netherlands"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(233,228,166,1)","opacity":0.40000000000000002,"size":[17.528995012396098,18.491109228288533,28.579993232564128,30.236220472440948,12.808377557193165,20.015462542519074],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(233,228,166,1)"}},"hoveron":"points","name":"Western","legendgroup":"Western","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[73.969999999999999,57.920000000000002,72.930000000000007,92.060000000000002,55.840000000000003,71.760000000000005],"y":[44.990000000000002,58.689999999999998,54.5,72.700000000000003,30.75,60.729999999999997],"text":["nat_turnout: 73.97<br />euro_turnout: 44.99<br />population:  1237088<br />region: Mediterranean<br />country: Cyprus","nat_turnout: 57.92<br />euro_turnout: 58.69<br />population: 10752626<br />region: Mediterranean<br />country: Greece","nat_turnout: 72.93<br />euro_turnout: 54.50<br />population: 62246674<br />region: Mediterranean<br />country: Italy","nat_turnout: 92.06<br />euro_turnout: 72.70<br />population:   416338<br />region: Mediterranean<br />country: Malta","nat_turnout: 55.84<br />euro_turnout: 30.75<br />population: 10825309<br />region: Mediterranean<br />country: Portugal","nat_turnout: 71.76<br />euro_turnout: 60.73<br />population: 49683254<br />region: Mediterranean<br />country: Spain"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(27,182,175,1)","opacity":0.40000000000000002,"size":[13.566114102297893,18.207977734053038,27.942844246520181,12.487360030119424,18.231414508783917,26.169272333796915],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(27,182,175,1)"}},"hoveron":"points","name":"Mediterranean","legendgroup":"Mediterranean","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[56.280000000000001,59.049999999999997,61.880000000000003,63.670000000000002,69.670000000000002,54.579999999999998,57.369999999999997,55.340000000000003,64.109999999999999,59.82,52.640000000000001],"y":[32.640000000000001,29.859999999999999,28.719999999999999,37.600000000000001,43.359999999999999,33.530000000000001,53.479999999999997,45.68,51.07,22.739999999999998,28.890000000000001],"text":["nat_turnout: 56.28<br />euro_turnout: 32.64<br />population:  7144653<br />region: Central/Eastern<br />country: Bulgaria","nat_turnout: 59.05<br />euro_turnout: 29.86<br />population:  4470534<br />region: Central/Eastern<br />country: Croatia","nat_turnout: 61.88<br />euro_turnout: 28.72<br />population: 10686269<br />region: Central/Eastern<br />country: Czechia","nat_turnout: 63.67<br />euro_turnout: 37.60<br />population:  1236641<br />region: Central/Eastern<br />country: Estonia","nat_turnout: 69.67<br />euro_turnout: 43.36<br />population:  9825704<br />region: Central/Eastern<br />country: Hungary","nat_turnout: 54.58<br />euro_turnout: 33.53<br />population:  1923559<br />region: Central/Eastern<br />country: Latvia","nat_turnout: 57.37<br />euro_turnout: 53.48<br />population:  2762485<br />region: Central/Eastern<br />country: Lithuania","nat_turnout: 55.34<br />euro_turnout: 45.68<br />population: 38301885<br />region: Central/Eastern<br />country: Poland","nat_turnout: 64.11<br />euro_turnout: 51.07<br />population: 21729871<br />region: Central/Eastern<br />country: Romania","nat_turnout: 59.82<br />euro_turnout: 22.74<br />population:  5445802<br />region: Central/Eastern<br />country: Slovakia","nat_turnout: 52.64<br />euro_turnout: 28.89<br />population:  1965706<br />region: Central/Eastern<br />country: Slovenia"],"type":"scatter","mode":"markers","marker":{"autocolorscale":false,"color":"rgba(0,118,187,1)","opacity":0.40000000000000002,"size":[16.922277011687815,15.732990484432026,18.186510747269402,13.565668804226888,17.901754677298847,14.16846235159654,14.763649780974449,24.355600223928622,21.131530889903281,16.200549838503473,14.201317889191849],"symbol":"circle","line":{"width":1.8897637795275593,"color":"rgba(0,118,187,1)"}},"hoveron":"points","name":"Central/Eastern","legendgroup":"Central/Eastern","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[80,88.379999999999995,56.280000000000001,59.049999999999997,73.969999999999999,61.880000000000003,84.599999999999994,63.670000000000002,68.730000000000004,74.560000000000002,76.150000000000006,57.920000000000002,69.670000000000002,65.090000000000003,72.930000000000007,54.579999999999998,57.369999999999997,89.659999999999997,92.060000000000002,81.930000000000007,55.340000000000003,55.840000000000003,64.109999999999999,59.82,52.640000000000001,71.760000000000005,87.180000000000007,68.930000000000007],"y":[59.799999999999997,88.469999999999999,32.640000000000001,29.859999999999999,44.990000000000002,28.719999999999999,66,37.600000000000001,40.700000000000003,50.119999999999997,61.380000000000003,58.689999999999998,43.359999999999999,49.700000000000003,54.5,33.530000000000001,53.479999999999997,84.239999999999995,72.700000000000003,41.93,45.68,30.75,51.07,22.739999999999998,28.890000000000001,60.729999999999997,55.270000000000003,36.899999999999999],"text":["AT","BE","BU","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PO","PT","RO","SK","SI","ES","SV","UK"],"hovertext":["nat_turnout: 80.00<br />euro_turnout: 59.80<br />population/3.5:  2501260.9<br />abbreviation: AT","nat_turnout: 88.38<br />euro_turnout: 88.47<br />population/3.5:  3327786.6<br />abbreviation: BE","nat_turnout: 56.28<br />euro_turnout: 32.64<br />population/3.5:  2041329.4<br />abbreviation: BU","nat_turnout: 59.05<br />euro_turnout: 29.86<br />population/3.5:  1277295.4<br />abbreviation: HR","nat_turnout: 73.97<br />euro_turnout: 44.99<br />population/3.5:   353453.7<br />abbreviation: CY","nat_turnout: 61.88<br />euro_turnout: 28.72<br />population/3.5:  3053219.7<br />abbreviation: CZ","nat_turnout: 84.60<br />euro_turnout: 66.00<br />population/3.5:  1669006.3<br />abbreviation: DK","nat_turnout: 63.67<br />euro_turnout: 37.60<br />population/3.5:   353326.0<br />abbreviation: EE","nat_turnout: 68.73<br />euro_turnout: 40.70<br />population/3.5:  1587186.9<br />abbreviation: FI","nat_turnout: 74.56<br />euro_turnout: 50.12<br />population/3.5: 19173188.9<br />abbreviation: FR","nat_turnout: 76.15<br />euro_turnout: 61.38<br />population/3.5: 23026862.0<br />abbreviation: DE","nat_turnout: 57.92<br />euro_turnout: 58.69<br />population/3.5:  3072178.9<br />abbreviation: GR","nat_turnout: 69.67<br />euro_turnout: 43.36<br />population/3.5:  2807344.0<br />abbreviation: HU","nat_turnout: 65.09<br />euro_turnout: 49.70<br />population/3.5:  1414992.3<br />abbreviation: IE","nat_turnout: 72.93<br />euro_turnout: 54.50<br />population/3.5: 17784764.0<br />abbreviation: IT","nat_turnout: 54.58<br />euro_turnout: 33.53<br />population/3.5:   549588.3<br />abbreviation: LV","nat_turnout: 57.37<br />euro_turnout: 53.48<br />population/3.5:   789281.4<br />abbreviation: LT","nat_turnout: 89.66<br />euro_turnout: 84.24<br />population/3.5:   173075.4<br />abbreviation: LU","nat_turnout: 92.06<br />euro_turnout: 72.70<br />population/3.5:   118953.7<br />abbreviation: MT","nat_turnout: 81.93<br />euro_turnout: 41.93<br />population/3.5:  4881348.3<br />abbreviation: NL","nat_turnout: 55.34<br />euro_turnout: 45.68<br />population/3.5: 10943395.7<br />abbreviation: PO","nat_turnout: 55.84<br />euro_turnout: 30.75<br />population/3.5:  3092945.4<br />abbreviation: PT","nat_turnout: 64.11<br />euro_turnout: 51.07<br />population/3.5:  6208534.6<br />abbreviation: RO","nat_turnout: 59.82<br />euro_turnout: 22.74<br />population/3.5:  1555943.4<br />abbreviation: SK","nat_turnout: 52.64<br />euro_turnout: 28.89<br />population/3.5:   561630.3<br />abbreviation: SI","nat_turnout: 71.76<br />euro_turnout: 60.73<br />population/3.5: 14195215.4<br />abbreviation: ES","nat_turnout: 87.18<br />euro_turnout: 55.27<br />population/3.5:  2868855.7<br />abbreviation: SV","nat_turnout: 68.93<br />euro_turnout: 36.90<br />population/3.5: 18505557.7<br />abbreviation: UK"],"textfont":{"size":[14.590022598778846,15.112135253333253,14.259343488750389,13.60581072479823,12.358695674168677,14.947081749659102,13.961291464009959,12.358417847417289,13.891133329857322,20.534024848358587,21.421113890460788,14.958720758230884,14.792588107580317,13.736785007777703,20.192666688140072,12.720974968510697,13.063310006251239,11.828657768407448,11.338582677165356,15.935741886662349,18.269322823294512,14.971426555385044,16.536993019092883,13.863828649414966,12.740169888407996,19.242102079208586,14.831879313920716,20.371491335104999],"color":"rgba(51,51,51,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[60],"y":[80],"text":"European turnout = <br /> 1.05 x national turnout -24.5","hovertext":"x: 60<br />y: 80","textfont":{"size":14.66456692913386,"color":"rgba(0,0,0,1)"},"type":"scatter","mode":"text","hoveron":"points","showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":43.762557077625573,"r":7.3059360730593621,"b":40.182648401826491,"l":37.260273972602747},"plot_bgcolor":"rgba(235,235,235,1)","paper_bgcolor":"rgba(255,255,255,1)","font":{"color":"rgba(0,0,0,1)","family":"Fira Sans","size":14.611872146118724},"title":{"text":"Recent turnout in European Union countries","font":{"color":"rgba(0,0,0,1)","family":"Fira Sans","size":17.534246575342465},"x":0.5,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[50.668999999999997,94.031000000000006],"tickmode":"array","ticktext":["60","70","80","90"],"tickvals":[60,70,80,90],"categoryorder":"array","categoryarray":["60","70","80","90"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Fira Sans","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"Latest legislative or presidential election (whichever had higher turnout)","font":{"color":"rgba(0,0,0,1)","family":"Fira Sans","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[19.453499999999998,91.756500000000003],"tickmode":"array","ticktext":["20","40","60","80"],"tickvals":[20,40,60,80],"categoryorder":"array","categoryarray":["20","40","60","80"],"nticks":null,"ticks":"outside","tickcolor":"rgba(51,51,51,1)","ticklen":3.6529680365296811,"tickwidth":0.66417600664176002,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Fira Sans","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(255,255,255,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"May 2019 European Parliament election","font":{"color":"rgba(0,0,0,1)","family":"Fira Sans","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":"rgba(255,255,255,1)","bordercolor":"transparent","borderwidth":1.8897637795275593,"font":{"color":"rgba(0,0,0,1)","family":"Fira Sans","size":11.68949771689498},"title":{"text":"region<br />","font":{"color":"rgba(0,0,0,1)","family":"Fira Sans","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"35bc4fd3758d":{"x":{},"y":{},"type":"scatter"},"35bc3d49c1eb":{"x":{},"y":{},"size":{},"colour":{},"text":{}},"35bc120c3efd":{"x":{},"y":{},"size":{},"label":{}},"35bc63e327ed":{"x":{},"y":{}}},"cur_data":"35bc4fd3758d","visdat":{"35bc4fd3758d":["function (y) ","x"],"35bc3d49c1eb":["function (y) ","x"],"35bc120c3efd":["function (y) ","x"],"35bc63e327ed":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>


### What About Dash?

[Dash for R](https://dashr.plot.ly/) is an open-source framework for building analytical applications, with no Javascript required, and it is tightly integrated with the Plotly graphing library. 

Learn about how to install Dash for R at https://dashr.plot.ly/installation.

Everywhere in this page that you see `fig`, you can display the same figure in a Dash for R application by passing it to the `figure` argument of the [`Graph` component](https://dashr.plot.ly/dash-core-components/graph) from the built-in `dashCoreComponents` package like this:


``` r
library(plotly)

fig <- plot_ly() 
# fig <- fig %>% add_trace( ... )
# fig <- fig %>% layout( ... ) 

library(dash)
library(dashCoreComponents)
library(dashHtmlComponents)

app <- Dash$new()
app$layout(
    htmlDiv(
        list(
            dccGraph(figure=fig) 
        )
     )
)

app$run_server(debug=TRUE, dev_tools_hot_reload=FALSE)
```
